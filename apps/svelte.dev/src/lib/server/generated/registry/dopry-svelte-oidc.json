{
	"name": "@dopry/svelte-oidc",
	"description": "Implement OIDC authentication in Svelte applications.",
	"repo_url": "https://github.com/dopry/svelte-oidc",
	"authors": ["dopry"],
	"homepage": "https://github.com/dopry/svelte-oidc#readme",
	"downloads": 106,
	"updated": "2023-01-24T16:47:18.807Z",
	"tags": ["auth"],
	"github_stars": 43,
	"typescript": false,
	"version": "1.1.0",
	"svelte_range": "3.49.0",
	"last_rune_check_version": "1.1.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@dopry/svelte-oidc",
				"version": "1.1.0",
				"size": 2074989
			},
			{
				"name": "oidc-client",
				"version": "1.11.5",
				"size": 19428554
			},
			{
				"name": "acorn",
				"version": "7.4.1",
				"size": 1209760
			},
			{
				"name": "base64-js",
				"version": "1.5.1",
				"size": 9624
			},
			{
				"name": "core-js",
				"version": "3.42.0",
				"size": 1272681
			},
			{
				"name": "crypto-js",
				"version": "4.2.0",
				"size": 486947
			},
			{
				"name": "serialize-javascript",
				"version": "4.0.0",
				"size": 16202
			},
			{
				"name": "randombytes",
				"version": "2.1.0",
				"size": 6363
			},
			{
				"name": "safe-buffer",
				"version": "5.2.1",
				"size": 32101
			}
		],
		"dependencies": [
			[0, 1],
			[1, 2],
			[1, 3],
			[1, 4],
			[1, 5],
			[1, 6],
			[6, 7],
			[7, 8]
		],
		"circular": []
	},
	"legacy_svelte": true,
	"readme": "# svelte-oidc\n\nAn Oidc Client Component for Svelte.\n\n[Try out the demo](https://darrelopry.com/svelte-oidc/)\n\n## Getting Started\n\nSetup an OIDC Sever\n\n * https://www.ory.sh/\n * https://www.keycloak.org/\n * https://www.okta.com/\n * http://auth0.com/\n\n Get the authority and client_id\n\n`npm install @dopry/svelte-oidc`\n\nApp.svelte\n```svelte\n# App.svelte\nimport {\n  OidcContext,\n  LoginButton,\n  LogoutButton,\n  RefreshTokenButton,\n  authError,\n  accessToken,\n  idToken,\n  isAuthenticated,\n  isLoading,\n  login,\n  logout,\n  userInfo,\n} from '@dopry/svelte-oidc';\n\nconst metadata = {\n            // added to overcome missing value in auth0 .well-known/openid-configuration\n            // see: https://github.com/IdentityModel/oidc-client-js/issues/1067\n            // see: https://github.com/IdentityModel/oidc-client-js/pull/1068\n            end_session_endpoint: `process.env.OIDC_ISSUER/v2/logout?client_id=process.env.OIDC_CLIENT_ID`,\n        };\n</script>\n\n<OidcContext\n issuer=\"https://dev-hvw40i79.auth0.com\"\n client_id=\"aOijZt2ug6Ovgzp0HXdF23B6zxwA6PaP\"\n redirect_uri=\"https://darrelopry.com/svelte-oidc/\"\n post_logout_redirect_uri=\"https://darrelopry.com/svelte-oidc/\"\n metadata={metadata}\n extraOptions={{\n   mergeClaims: true,\n   resource: \"some_identifier\",\n }}\n >\n\n  <LoginButton>Login</LoginButton>\n  <LogoutButton>Logout</LogoutButton>\n  <RefreshTokenButton>RefreshToken</RefreshTokenButton><br />\n  <pre>isLoading: {$isLoading}</pre>\n  <pre>isAuthenticated: {$isAuthenticated}</pre>\n  <pre>authToken: {$accessToken}</pre>\n  <pre>idToken: {$idToken}</pre>\n  <pre>userInfo: {JSON.stringify($userInfo, null, 2)}</pre>\n  <pre>authError: {$authError}</pre>\n</OidcContext>\n```\n\n## Sapper/SSR\n\nThis component does not natively support SSR nor can it be used for authentication in server side rendered contexts. It\ncan be used within SSR applications as long as it is acceptable for all authentication to be client side. In order to\nuse for client side auth in an SSR application you will need to ensure it is not rendered server side as follows.\n\n```\n{#if process.browser} <OidcContext> ..... </OidcContext> {/if}\n```\n\n## SvelteKit/SSR\nSame as what is needed for Sapper (see above section). To do this, we need to import in the `script` section:\n\n```\nimport { browser } from '$app/env';\n```\n\nAnd in the `main`:\n```\n{#if browser} <OidcContext> ..... </OidcContext> {/if}\n```\n\n## Contributing\n\nContributors are Welcome. There is a lot of value in a vendor neutral OIDC component for use by the Svelte and Sapper\ncommunity. As a developer and product manager, I have needed to switch between Okta, Auth0, KeyCloak, IdentityServer,\nand Ory on multiple occasions. Vendor specific libraries are usually riddled with vendor specific assumptions that make\nthe migration hard.\n\n**How to Help!**\n\n  * Better Documentation\n  * Helping with the Issue Queue (support, good bug report, resolving bugs)\n  * SSR Support\n  * Automated Testing of all major identity providers\n\n**PRs Welcome!**\n\n## Docs\n\n### Components\n\n* OidcContext - component to initiate the OIDC client. You only need one instance in your DOM tree at the root.\n\n  Attributes:\n  * issuer - OIDC Authority/issuer/base url for .well-known/openid-configuration\n  * client_id - OAuth ClientId\n  * redirect_uri -  default: window.location.href\n  * post_logout_redirect_uri - override the default url that OIDC will redirect to after logout. default: window.location.href\n  * metadata - set default metadata or metadata missing from authority.\n  * extraOptions - An object of extra options that will be passed to the underlying OpenID Connect client. Valid values are available [here](https://github.com/IdentityModel/oidc-client-js/wiki#other-optional-settings).\n\n* LoginButton - log out the current context\n\n  Attributes:\n  * preserve_route - tell the callback handler to return to the current url after login. default: true\n  * callback_url - override the context callback_url\n\n* LogoutButton - log in the current context\n  \n  Attributes:\n  * logout_url - override the context logout_url\n\n* RefreshTokenButton - refresh the current token\n\n### Functions\n\n* login(oidcPromise, preseveRoute = true, callback_url = null) - begin a user login.\n* logout(oidcPromise, logout_url = null) - logout a user.\n* refreshToken(oidcPromise) - function to refresh a token.\n\n### Stores\n\n* isLoading - if true OIDC Context is still loading.\n* isAuthenticated - true if user is currently authenticated\n* accessToken - access token for connecting to apis.\n* idToken - identity token for getting user info easily.\n* userInfo - the currently logged in user's info from OIDC userInfo endpoint\n* authError - the last authentication error.\n\n### Constants\n\n* OIDC_CONTEXT_CALLBACK_URL\n* OIDC_CONTEXT_CLIENT_PROMISE - key for the OIDC client in setContext/getContext.\n* OIDC_CONTEXT_LOGOUT_URL,\n\n## Development\n\nnpm run showcase:dev\n\n## Release\n\nuse semver\n\n1. npm publish\n2. npm run showcase:build\n3. npm run showcase:publish\n",
	"downloads_history": [
		[3589, 20],
		[3596, 44],
		[3603, 29],
		[3610, 42],
		[3617, 6],
		[3624, 29],
		[3631, 43],
		[3638, 21],
		[3645, 10],
		[3652, 35],
		[3659, 10],
		[3666, 44],
		[3673, 42],
		[3680, 26],
		[3687, 44],
		[3694, 86],
		[3701, 44],
		[3708, 29],
		[3715, 62],
		[3722, 30],
		[3729, 30],
		[3736, 21],
		[3743, 34],
		[3750, 36],
		[3757, 60],
		[3764, 102],
		[3771, 23],
		[3778, 51],
		[3785, 28],
		[3792, 26],
		[3799, 22],
		[3806, 15],
		[3813, 49],
		[3820, 49],
		[3827, 20],
		[3834, 16],
		[3841, 48],
		[3848, 29],
		[3855, 28],
		[3862, 85],
		[3869, 37],
		[3876, 313],
		[3883, 50],
		[3890, 73],
		[3897, 142],
		[3904, 47],
		[3911, 115],
		[3918, 58],
		[3925, 101],
		[3932, 67],
		[3939, 33],
		[3946, 64],
		[3953, 59],
		[3960, 50],
		[3967, 28],
		[3974, 62],
		[3981, 51],
		[3988, 52],
		[3995, 50],
		[4002, 31],
		[4009, 30],
		[4016, 50],
		[4023, 29],
		[4030, 52],
		[4037, 51],
		[4044, 103],
		[4051, 64],
		[4058, 86],
		[4065, 17],
		[4072, 60],
		[4079, 94],
		[4086, 94],
		[4093, 61],
		[4100, 109],
		[4107, 112],
		[4114, 106],
		[4121, 101],
		[4128, 93]
	]
}
