{
	"name": "svelte-kit-adapter-cloudflare-workers-auth0",
	"description": "Adapts SvelteKit for Cloudflare Workers, Auth0 authentication.",
	"repo_url": "https://github.com/green-arrow/svelte-kit-adapter-cloudflare-workers-auth0",
	"authors": ["green-arrow"],
	"homepage": "https://github.com/green-arrow/svelte-kit-adapter-cloudflare-workers-auth0#readme",
	"downloads": 5,
	"updated": "2021-08-29T05:16:18.983Z",
	"tags": ["adapter", "auth"],
	"github_stars": 4,
	"typescript": true,
	"version": "0.0.1",
	"kit_range": "^1.0.0-next.158",
	"last_rune_check_version": "0.0.1",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "svelte-kit-adapter-cloudflare-workers-auth0",
				"version": "0.0.1",
				"size": 20308
			},
			{
				"name": "@iarna/toml",
				"version": "2.2.5",
				"size": 99042
			},
			{
				"name": "cookie",
				"version": "0.4.2",
				"size": 19721
			},
			{
				"name": "esbuild",
				"version": "0.12.29",
				"size": 92169
			}
		],
		"dependencies": [
			[0, 1],
			[0, 2],
			[0, 3]
		],
		"circular": []
	},
	"readme": "## SvelteKit Adapter for Cloudfare Workers with Auth0\n\n### Installation and SvelteKit Configuration\n\nInstall the adapter:\n\n```bash\nnpm i svelte-kit-adapter-cloudflare-workers-auth0\n```\n\nConfigure the adapter in `svelte.config.js`, supplying an array\nof routes that should be protected by Auth0 authorization.\n\nEach entry in `protectedRoutes` should be in the form of a regular expression.\nEach entry is used to generate a `RegExp` and matched against the `pathname` of the request.\n\n```js\nimport preprocess from 'svelte-preprocess';\nimport adapter from 'svelte-kit-adapter-cloudflare-workers-auth0';\n\n/** @type {import('@sveltejs/kit').Config} */\nconst config = {\n  // Consult https://github.com/sveltejs/svelte-preprocess\n  // for more information about preprocessors\n  preprocess: preprocess(),\n\n  kit: {\n    // hydrate the <div id=\"svelte\"> element in src/app.html\n    target: '#svelte',\n    adapter: adapter({\n      protectedRoutes: ['/admin(.*)'],\n    }),\n  },\n};\n\nexport default config;\n```\n\n### Cloudflare configuration\n\nCreate a Cloudflare Workers site:\n\n```bash\nwrangler init --site my-site-name\n```\n\nEntries in the `wrangler.toml` file are required for `[site.bucket]` and `[site.entry-point]`.\n\n`[site.bucket]` should be set to `./build` for the default SvelteKit build process.\n\nThis adapter will create your Cloudflare Worker script at publish time, and output\nthe results in `[site.entry-point]` (defaults to `workers-site`).\n\n_Note:_ Do not place any custom code in `[site.entry-point]` as it will be overwritten at publish time.\n\nRequired environment variables:\n\n- `AUTH0_DOMAIN` - Domain for your Auth0 application (must include scheme, e.g. `https`)\n- `AUTH0_CLIENT_ID` - Client ID for your Auth0 application\n- `AUTH0_CLIENT_SECRET` - Client secret for your Auth0 application (encrypt or use `wrangler secret`)\n- `AUTH0_CALLBACK_URL` - Callback URL for your Auth0 application. Must be your worker's base URL with `/auth` as the path.\n- `AUTH0_LOGOUT_URL` - Logout URL for your Auth0 application. Must be your worker's base URL with `/logout` as the path.\n- `SALT` - A secret string used to encrypt user sub values\n  import adapter from 'svelte-kit-adapter-cloudflare-workers-auth0';\n\n#### Cloudflare KV configuration\n\nCreate a Cloudflare KV store with the name `AUTH_STORE`.\n\n```\nwrangler kv:namespace create AUTH_STORE\n```\n\nCopy the output of this command into your `wrangler.toml` file.\n\nFull example with different environments:\n\n```toml\ntype = \"javascript\"\naccount_id = '<ACCOUNT_ID>'\nusage_model = ''\ncompatibility_flags = []\n\n[site]\nbucket = './build'\nentry-point = './workers-site'\n\n[build]\ncommand = \"npm install && npm run build\"\n\n[build.upload]\nformat = \"service-worker\"\n\n[env.dev]\nworkers_dev = true\nname = '<NAME_OF_DEV_ENV_WORKERS>'\nroute = 'https://<DEV_ROUTE>.<WORKERS_SUBDOMAIN>.workers.dev/*'\nkv-namespaces = [\n  { binding = \"AUTH_STORE\", id = \"<OUTPUT_FROM_KV_NAMESPACE_CREATE>\" }\n]\n\n[env.production]\nzone_id = '<OPTIONAL_ZONE_ID>'\nname = '<NAME_OF_PROD_ENV_WORKERS>'\nroute = '<PROD_HOSTNAME>/*'\nkv-namespaces = [\n  { binding = \"AUTH_STORE\", id = \"<OUTPUT_FROM_KV_NAMESPACE_CREATE>\" }\n]\n\n# [secrets]\n# AUTH0_DOMAIN\n# AUTH0_CLIENT_ID\n# AUTH0_CLIENT_SECRET\n# AUTH0_CALLBACK_URL\n# AUTH0_LOGOUT_URL\n# SALT\n```\n\nSee the [Cloudflare documentation](https://developers.cloudflare.com/workers/platform/sites/start-from-existing) for additional information on configuring Cloudflare Workers\n\n### Resources\n\nThis adapter is largely a direct copy of [@sveltejs/adapter-cloudflare-workers](https://github.com/sveltejs/kit/tree/master/packages/adapter-cloudflare-workers), with support for authentication and basic authorization on the 'server'-side.\n\nAuth0 support was based on the official [Cloudflare Workers Auth0 tutorial](https://developers.cloudflare.com/workers/tutorials/authorize-users-with-auth0).\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3596, 2],
		[3603, 1],
		[3610, 2],
		[3631, 1],
		[3659, 1],
		[3666, 2],
		[3680, 1],
		[3701, 1],
		[3708, 1],
		[3729, 2],
		[3757, 2],
		[3771, 1],
		[3778, 4],
		[3785, 3],
		[3792, 4],
		[3799, 2],
		[3806, 2],
		[3820, 1],
		[3834, 1],
		[3848, 2],
		[3855, 6],
		[3862, 1],
		[3883, 1],
		[3890, 1],
		[3904, 3],
		[3918, 1],
		[3932, 1],
		[3960, 2],
		[3974, 1],
		[3981, 1],
		[4009, 1],
		[4016, 1],
		[4030, 1],
		[4037, 4],
		[4044, 7],
		[4051, 3],
		[4065, 2],
		[4072, 1],
		[4086, 1],
		[4093, 6],
		[4100, 4],
		[4107, 3],
		[4114, 5],
		[4121, 7],
		[4128, 3]
	],
	"esm": true,
	"cjs": false
}
