{
	"name": "@slick-for/svelte",
	"description": "Manage views and routing for Svelte components.",
	"repo_url": "https://github.com/shavyg2/slick-for-svelte",
	"authors": ["shavyg2"],
	"homepage": "https://github.com/shavyg2/slick-for-svelte#readme",
	"downloads": 9,
	"updated": "2019-09-04T13:15:49.424Z",
	"tags": ["router"],
	"github_stars": 24,
	"typescript": true,
	"version": "1.2.4",
	"svelte_range": "^3.6.7",
	"last_rune_check_version": "1.2.4",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@slick-for/svelte",
				"version": "1.2.4",
				"size": 1232151
			},
			{
				"name": "@sindresorhus/is",
				"version": "1.2.0",
				"size": 43402
			},
			{
				"name": "query-string",
				"version": "6.14.1",
				"size": 37300
			},
			{
				"name": "filter-obj",
				"version": "1.1.0"
			},
			{
				"name": "split-on-first",
				"version": "1.1.0",
				"size": 3820
			},
			{
				"name": "strict-uri-encode",
				"version": "2.0.0"
			},
			{
				"name": "decode-uri-component",
				"version": "0.2.2",
				"size": 6093
			},
			{
				"name": "route-parser",
				"version": "0.0.5"
			}
		],
		"dependencies": [
			[0, 1],
			[0, 2],
			[2, 3],
			[2, 4],
			[2, 5],
			[2, 6],
			[0, 7]
		],
		"circular": []
	},
	"readme": "# Slick For Svelte\r\n\r\n\r\n## What does this library do for you. \r\n\r\nManage your views and routing following a practical and easy to follow approach for your svelte components.\r\n\r\n\r\n```ts\r\n\r\n\r\n@Controller(\"/user/\")\r\nexport class UserController {\r\n  \r\n  \r\n  \r\n  @View(\"/home\", HomePage)\r\n  async homepage(userapi: GithubApi, @Query(\"page\") page = 1) {\r\n    let users = await userapi.getPage(page);\r\n\r\n    return {\r\n      users: users\r\n    };\r\n  }\r\n\r\n  \r\n  \r\n  @View(\"/:username\", UserPage)\r\n  async getUserPage(api: GithubApi, @Param(\"username\") username: string) {\r\n    let user = await api.getUserByName(username);\r\n    return {\r\n      user\r\n    };\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\nThis library is inspired by nest and uses dependency injection to gather all the requirements\r\nneeded to call a route.\r\n\r\n\r\n### Installation\r\n\r\n\r\n##### Before I install I just want to play with the framework and see it work.\r\n\r\n[Click Here](https://codesandbox.io/s/lflyu)\r\n\r\n##### I rather have is all done for me, Where do I clone.\r\n\r\n[Here](https://github.com/shavyg2/slick-app-basic-setup)\r\n\r\n##### I want to set up it up from the official svelte repo, it's gonna be more work, but I am up for it. (Proceed)\r\n\r\n\r\nStarting from the Official repo. Notice I am using the WebPack template and **not the roll up template**.\r\n```\r\nnpx degit sveltejs/template-webpack svelte-app\r\ncd svelte-app\r\nyarn or npm install\r\n```\r\n\r\n### Dependencies (YOOOU need to install them, not me)\r\n- typescript \r\n- reflect-metadata\r\n- @slick-for/svelte\r\n- history\r\n\r\n\r\n\r\n**Confused?**\r\nPaste one of the following options in your terminal inside your project folder.\r\n\r\n1.\r\n```\r\nnpm install reflect-metadata @slick-for/svelte history\r\nnpm install --save-dev typescript\r\n```\r\nor \r\n\r\n2.\r\n```\r\nyarn add reflect-metadata @slick-for/svelte history\r\nyarn add --dev typescript \r\n\r\n```\r\n\r\n\r\n**Confused?** Do number 1\r\n\r\n\r\n### You need Typescript (Not a nice to have, Required)\r\n\r\n#### I used the Webpack Template, Did you use Rollup? You will need to investigate how to get typescript working with Rollup.\r\n#### Here is what you do for webpack, something similar is needed for rollup.\r\n\r\n1.\r\n```\r\nnpm install --save-dev awesome-typescript-loader\r\n```\r\n\r\n2.\r\n```\r\nyarn add --dev awesome-typescript-loader\r\n```\r\n\r\n\r\nLocated ```webpack.config.js``` in your project root.\r\n\r\n\r\nHere is what you need to do **Exactly**\r\n\r\n1. Easy Way\r\n```\r\nCopy and Paste the config here \r\nhttps://github.com/shavyg2/slick-for-svelte-test/blob/master/webpack.config.js\r\n```\r\n\r\n\r\n\r\n2. Non Beginner (Webpack Config scares some people.)\r\n\r\nThe original file contains the following:\r\n```js\r\nresolve: {\r\n    alias: {\r\n        svelte: path.resolve('node_modules', 'svelte')\r\n    },\r\n    extensions: ['.mjs', '.js', '.svelte'],\r\n    mainFields: ['svelte', 'browser', 'module', 'main']\r\n},\r\n\r\n```\r\n\r\nYou need to add support for typescript extension (typescript extension added)\r\n```js\r\nresolve: {\r\n    alias: {\r\n        svelte: path.resolve('node_modules', 'svelte')\r\n    },\r\n    extensions: ['.mjs', '.js', '.svelte','.ts'], //here\r\n    mainFields: ['svelte', 'browser', 'module', 'main']\r\n},\r\n```\r\n\r\n\r\nAdd ```awesome-typescript-loader``` and configure it for webpack, below is a reference.\r\n```js\r\n{\r\n    test: /\\.ts$/,\r\n    use: {\r\n        loader: 'awesome-typescript-loader',\r\n        options: {\r\n            transpileOnly:true //make life easy\r\n        }\r\n    }\r\n},\r\n```\r\n\r\n\r\nConfigure webpack dev server to use the ```index.html``` file for your single page application. Below is a reference.\r\n```js \r\ndevServer: {\r\n    port:process.env.PORT,\r\n    historyApiFallback: {\r\n        index: 'index.html'\r\n    }\r\n},\r\n```\r\n\r\n\r\n\r\nThe entry file webpack compiles need to now be a typescript file.\r\n\r\n```js\r\nentry: {\r\n    bundle: ['./src/main.ts']\r\n},\r\n```\r\n\r\n### Typescript config\r\n\r\nGenerate tsconfig file\r\n\r\n```\r\nnpx tsc --init\r\n```\r\n\r\nAdd the following to your ```tsconfig.json```\r\n\r\n```json\r\n    \"experimentalDecorators\": true,        \r\n    \"emitDecoratorMetadata\": true, \r\n```\r\n\r\n\r\nI use these settings. It works lovely for me ```tsconfig.json```\r\n```json\r\n    \"target\": \"es5\",                         \r\n    \"module\": \"commonjs\",                    \r\n    \"lib\": [\"dom\",\"esnext\"],    \r\n```\r\n\r\n\r\n[Confused??? Click this and copy paste to tsconfig.json](https://github.com/shavyg2/slick-for-svelte-test/blob/master/tsconfig.json)\r\n\r\n\r\n### Templates\r\n\r\nHonestly just copy this and place under ```src/Template.svelte```.\r\nYou can check this template file out to understand how certain things work, however you don't need to understand it.\r\n\r\n```xhtml\r\n<script>\r\n    export let layout;\r\n    export let NotFound;\r\n    export let viewProps;\r\n    export let loading;\r\n    export let error;\r\n\r\n</script>\r\n{#await viewProps}\r\n    {#if layout}\r\n            <svelte:component this={layout}>\r\n                <svelte:component this={loading}/>\r\n            </svelte:component>\r\n        {:else}\r\n            <svelte:component this={loading}/>\r\n    {/if}\r\n{:then props}\r\n    {#if viewProps.NotFound}\r\n        <svelte:component this={props.NotFound}  />\r\n    {:else}\r\n        {#if props.layout||layout}\r\n            <svelte:component this={props.layout || layout} {...props}>\r\n                <svelte:component this={view} {...props}/>\r\n            </svelte:component>\r\n        {:else}\r\n            <svelte:component this={view} {...props}/>\r\n        {/if}\r\n    {/if}\r\n{:catch error$}\r\n    <svelte:component this={error}  error={error$}/>\r\n{/await}\r\n```\r\n\r\nThis is the global template engine for all views. You shouldn't need to change it unless it is to add something application wide.\r\nPlease refrain from doing this. There are better places to add customizations.\r\n\r\n\r\n\r\n\r\n### 404 Page Sample 404 or Create your own.\r\n\r\n```xhtml\r\n<!-- src/404.svelte -->\r\n<h1>Error 404</h1>\r\nNot found\r\n```\r\n\r\n\r\n\r\n### Imports\r\n```ts\r\n    import {Controller,View,Module,Injectable,Inject,Param,Query,History} from \"@slick-for/svelte\";\r\n```\r\n\r\nThese are some of the tools that come with this library and are very common to see/use.\r\n\r\n\r\n\r\n### Main.ts \r\n\r\n```ts\r\n\r\nimport {Module,SlickForSvelteFactory} from \"@slick-for/svelte\";\r\nimport {createBrowserHistory} from \"history\"\r\nimport { UserController } from \"./controller/UserController\";\r\nimport { GithubApi } from \"./services/github-api\";\r\nimport Template from \"./Template.svelte\";\r\nimport Error404 from \"./404.svelte\"\r\nimport ErrorPage from \"./Error.svelte\";\r\n\r\n\r\nconst history =  createBrowserHistory();\r\n@Module({\r\n\tcontrollers:[UserController],\r\n\tprovider:[GithubApi]\r\n})\r\nexport class ApplicationModule{\r\n\r\n}\r\nconst app = SlickForSvelteFactory.create(ApplicationModule,{\r\n\tbase:Template, // Remember that template i told you to keep in your back pocket, take it out.\r\n\thistory, //https://www.npmjs.com/package/history\r\n\tcomponent404:Error404, //svelte 404 Page, make it up or copy from somewhere else,\r\n\terror:ErrorPage,\r\n\ttarget:document.body //Where to render to https://svelte.dev/docs#Creating_a_component\r\n})\r\n\r\napp.Initialize();\r\n\r\n```\r\n\r\nThis will start your application listen for the URL changes using the history API.\r\n\r\n\r\n# Wheeeew (AMAZING!!!!!)\r\n\r\nGood Job, you have done great so far. Stretch you legs. Lemme know when you are ready.\r\nI will literally be waiting for you.\r\n\r\n\r\n\r\n\r\n### Controller (Basic)\r\nAdd the missing controller file.\r\n\r\n```ts\r\n//src/controllers/UserController.ts\r\nimport { Controller, View, Param, Query } from \"@slick-for/svelte\";\r\n\r\n\r\n//Regular svelte components. Confused ? https://svelte.dev/tutorial/basics\r\nimport HomePage from \"./pages/home.svelte\";\r\nimport UserPage from \"./pages/user.svelte\";\r\n\r\n\r\n//Service Component\r\nimport { GithubApi } from \"../services/github-api\";\r\n\r\n@Controller(\"/user/\")\r\nexport class UserController {\r\n  @View(\"/home\", HomePage)\r\n  async homepage(userapi: GithubApi, @Query(\"page\") page = 1) {\r\n    let users = await userapi.getPage(page);\r\n\r\n    return {\r\n      users: users\r\n    };\r\n  }\r\n\r\n  @View(\"/:username\", UserPage)\r\n  async getUserPage(api: GithubApi, @Param(\"username\") username: string) {\r\n    let user = await api.getUserByName(username);\r\n    return {\r\n      user\r\n    };\r\n  }\r\n}\r\n\r\n\r\n```\r\n\r\n### Services\r\nThe case of the missing service file. You can add it.\r\nNote that services can't have method properties automatically injected.\r\nThis can only be done in the controller. However the constructor can.\r\n\r\n```ts\r\n\r\nimport {\r\n  Injectable\r\n} from \"@slick-for/svelte\";\r\n\r\n@Injectable()\r\nexport class GithubApi {\r\n  private apiUrl = \"https://api.github.com\";\r\n\r\n  async getPage(page: number) {\r\n    let res = await fetch(`${this.apiUrl}/users?since=${page}`);\r\n    let users = await this.isGood(res);\r\n    return users;\r\n  }\r\n\r\n  async getUserByName(username: string) {\r\n    let res = await fetch(`${this.apiUrl}/users/${username}`);\r\n    let users = await this.isGood(res);\r\n    return users;\r\n  }\r\n\r\n  private async isGood(res: Response) {\r\n    if (res.status - 299 > 0) {\r\n      let text = await res.text();\r\n      let parsed;\r\n      try {\r\n        parsed = JSON.parse(text);\r\n      } catch (e) {\r\n        throw text;\r\n      }\r\n\r\n      throw parsed;\r\n    } else {\r\n      return res.json();\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n## Serve over http and see the result\r\n\r\n```\r\nyarn run dev\r\n```\r\n\r\n\r\nYou should be seeing the 404 page now\r\n\r\n## Need Syntax highlighting for Svelte\r\nhttps://marketplace.visualstudio.com/items?itemName=JamesBirtles.svelte-vscode\r\n\r\n\r\n\r\n## Advanced (wow super star. Keep going!!)\r\n\r\n\r\n### Controller (Advance)\r\n```\r\n{\r\n    layout:SvelteComponent\r\n    loading:SvelteComponent\r\n    error:SvelteComponent\r\n    pause:400\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n#### layout\r\n\r\nThis is a custom view that you should give you a page, it allows you to customize the layout for that controller.\r\nMake sure that you have a slot in that layout. This is where your view from your page will go.\r\n\r\n#### loading\r\n\r\nThis is the layout that will be shown while your page your data is loading. It will use the layout while it is loading.\r\n\r\n#### error\r\nIf an error happens this is the component that will be shown, it will receieve one prop and it will be called error.\r\n\r\n### pause\r\n\r\nWhen you are using a single page application the layout will be able to load much faster than the data will, This will delay the transition until the data is ready.\r\nHowever if the data is taking a really long time (over 400ms) by default then it will switch to that page and display the loading, component.\r\n\r\nThis is useful because you don't want user on really fast connection to be seeing this loading screen if it takes less than 400 ms for the data to load. \r\nIf you want to increase or decrease this time however you can. The default 400 ms is good however.\r\n\r\n\r\n```ts\r\n\r\n\r\n\r\n@Controller(\"/admin\",{\r\n    layout:AdminComponent,\r\n    loading:AdminLoadingView,\r\n    error:AdminErrorView,\r\n    pause:400\r\n})\r\nclass AdminController{\r\n\r\n    constructor(private user:UserService,private account:AccountService){\r\n\r\n    }\r\n\r\n    @View(\"/\",AdminMainComponent)\r\n    async getMainPage(){\r\n\r\n        //This can be using writable stores in the background.\r\n        const user = await this.user.getAdminUserDetails();\r\n        \r\n\r\n        //Notice that i didn't await for the settings and the Admin panel details\r\n        const userSettings = this.account.getUserSettings(user.id);\r\n        const userPanels = this.account.getAdminPanelDetails(user.id)\r\n\r\n        return {\r\n            user,\r\n            userSettings,\r\n            userPanels,\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```xhtml\r\n<!-- AdminMainComponent -->\r\n<div>\r\n    Welcome, {user.username}\r\n</div>\r\n<div class=\"content\">\r\n    {#await userPanels as panels}\r\n        <div class=\"panels\">\r\n            {#each panels as panel}\r\n                <!-- don't actually name your clases as such -->\r\n                <div class=\"make-it-sexy\">\r\n                    <PanelComponent {panel}/>\r\n                </div>\r\n            {/each}\r\n        </div>\r\n\r\n    {:catch error}\r\n        <div>Failed to load panels</div>\r\n    {/await}\r\n\r\n    {#await userSettings as settings}\r\n    <!-- Please don't name classes as such -->\r\n    <div class=\"make-it-spacy\">\r\n        <SettingsView {settings}/>\r\n    </div>\r\n    {:catch error}\r\n        <div>Settings failed to load</div>\r\n    {/await}\r\n</div>\r\n\r\n```\r\n\r\n\r\n#### Back to the method\r\n```ts\r\n    ...\r\n\r\n    @View(\"/\",AdminMainComponent)\r\n    async getMainPage(){\r\n\r\n        //This can be using writable stores in the background.\r\n        const user = await this.user.getAdminUserDetails();\r\n        \r\n\r\n        //Notice that i didn't await for the settings and the Admin panel details\r\n        const userSettings = this.account.getUserSettings(user.id);\r\n        const userPanels = this.account.getAdminPanelDetails(user.id)\r\n\r\n        return {\r\n            user,\r\n            userSettings,\r\n            userPanels,\r\n        }\r\n    }\r\n\r\n    ...\r\n```\r\n\r\nThe reason why i waited for the view to load is that i don't want the page to be shown until that date is ready.\r\nThis will keep the page until the pause amount is met, at which point this will show the loading page.\r\n\r\nHowever if the data is resolved in a decent enough time then it will show your page.\r\nThere are somethings however we don't mind waiting for and we can start rendering the page.\r\n\r\nWe will wait for the user panels and the user settings and can show a loading or \r\na grayout version while the user is waiting for the page to load.\r\n\r\nThis will make your page feel more responsive, You could have also loaded all of the information inside the controller method.\r\nThis is completely upto you want you want to wait for in the component and what you want your page to load with.\r\n\r\n\r\nThis saves you from having to do alot of templating in the the view layer since it's best for rendering views.\r\n\r\nbut for the things that you would like to wait for you have that option.\r\n\r\n\r\n\r\n\r\n## Injectable \r\n\r\nInjectable allows you to manage your application in a way where the classes and set up code just works and you don't have to string them all together.\r\nThe Library will do all of the heavy lifting but does provide you with enough options so that you can get some things dont yourself.\r\n\r\n\r\n\r\n### Providers\r\n\r\nProviders or Injectables come in different shapes and sizes\r\n\r\n\r\n```ts\r\n    //Singleton\r\n   @Injectable()\r\n    class Repo{\r\n\r\n    }\r\n\r\n    // a new service is created for each request or page navigation\r\n    @Injectable({\r\n        scope:\"Request\"\r\n    })\r\n    class Service{\r\n\r\n    }\r\n\r\n    /**\r\n     * Since this depends on something that is refreshed for each navigation it will not default to being built with every request, you can't change this.\r\n     */ \r\n    @Injectable()\r\n    class Operation{\r\n        constructor(\r\n            public service:Service,\r\n            @Inject(\"simple\") public simple,\r\n            public repo:Repo\r\n            ){}\r\n    }\r\n\r\n\r\n    //This controller will be new everytime a user goes to a different page or reloads.\r\n    @Controller(\"/thing\",{\r\n        scope:\"Request\",\r\n    })\r\n    class TestController{\r\n\r\n    }\r\n\r\n    //Need to inject some text use the @Inject Parameter decorator\r\n    const simpleProvider = {\r\n        provide:\"simple\",\r\n        useValue:\"Simple\"\r\n    }\r\n\r\n    /**\r\n     *  Need something resolved async but you still want the actual object. Use a factory.\r\n     *  Notice the inject is used.\r\n     * \r\n     * Transient a fresh copy for every page load.\r\n     * \r\n     */\r\n    const factory = {\r\n        provide:\"factory\",\r\n        async useFactory(operation:Operation){\r\n\r\n                await new Promise((r)=>{\r\n                    setTimeout(r,500)\r\n                })\r\n\r\n                return {\r\n                    operation\r\n                }\r\n        },\r\n        inject:[Operation],\r\n        scope:\"Transient\" \r\n    }\r\n\r\n```",
	"legacy_svelte": true,
	"downloads_history": [
		[3589, 3],
		[3596, 55],
		[3603, 53],
		[3610, 12],
		[3617, 33],
		[3624, 1],
		[3631, 4],
		[3638, 24],
		[3645, 26],
		[3652, 7],
		[3659, 4],
		[3666, 32],
		[3673, 5],
		[3680, 5],
		[3687, 5],
		[3694, 4],
		[3701, 6],
		[3708, 6],
		[3715, 5],
		[3722, 11],
		[3729, 13],
		[3736, 2],
		[3743, 5],
		[3750, 5],
		[3757, 5],
		[3764, 21],
		[3771, 9],
		[3778, 3],
		[3785, 1],
		[3792, 2],
		[3799, 6],
		[3806, 6],
		[3813, 3],
		[3820, 2],
		[3827, 2],
		[3834, 5],
		[3841, 2],
		[3848, 3],
		[3855, 2],
		[3862, 124],
		[3869, 4],
		[3876, 2],
		[3883, 3],
		[3890, 4],
		[3897, 8],
		[3904, 19],
		[3911, 4],
		[3918, 7],
		[3925, 3],
		[3932, 9],
		[3939, 4],
		[3946, 3],
		[3953, 3],
		[3960, 4],
		[3967, 5],
		[3974, 3],
		[3981, 3],
		[3988, 2],
		[3995, 2],
		[4002, 2],
		[4009, 1],
		[4016, 4],
		[4023, 27],
		[4030, 3],
		[4037, 20],
		[4044, 15],
		[4051, 5],
		[4058, 4],
		[4065, 2],
		[4072, 5],
		[4079, 18],
		[4086, 1],
		[4093, 76],
		[4100, 24],
		[4107, 4],
		[4114, 9],
		[4121, 34],
		[4128, 9]
	],
	"esm": false,
	"cjs": true
}
