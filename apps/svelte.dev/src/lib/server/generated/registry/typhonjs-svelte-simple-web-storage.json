{
	"name": "@typhonjs-svelte/simple-web-storage",
	"description": "Provide Svelte stores for Web Storage API (localStorage/sessionStorage).",
	"repo_url": "https://github.com/typhonjs-svelte/simple-web-storage",
	"authors": ["typhonrt"],
	"homepage": "https://github.com/typhonjs-svelte/simple-web-storage#readme",
	"downloads": 8,
	"updated": "2024-01-14T07:37:35.938Z",
	"tags": ["miscellaneous"],
	"github_stars": 0,
	"typescript": true,
	"version": "0.5.0",
	"svelte_range": ">=4.x.x",
	"last_rune_check_version": "0.5.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@typhonjs-svelte/simple-web-storage",
				"version": "0.5.0",
				"size": 51666
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "![@typhonjs-svelte/simple-web-storage](https://i.imgur.com/f5Qm8OC.jpg)\r\n\r\n[![NPM](https://img.shields.io/npm/v/@typhonjs-svelte/simple-web-storage.svg?label=npm)](https://www.npmjs.com/package/@typhonjs-svelte/simple-web-storage)\r\n[![Code Style](https://img.shields.io/badge/code%20style-allman-yellowgreen.svg?style=flat)](https://en.wikipedia.org/wiki/Indent_style#Allman_style)\r\n[![License](https://img.shields.io/badge/license-MPLv2-yellowgreen.svg?style=flat)](https://github.com/typhonjs-svelte/simple-web-storage/blob/main/LICENSE)\r\n[![Build Status](https://github.com/typhonjs-svelte/simple-web-storage/workflows/CI/CD/badge.svg)](#)\r\n[![Coverage](https://img.shields.io/codecov/c/github/typhonjs-svelte/simple-web-storage.svg)](https://codecov.io/github/typhonjs-svelte/simple-web-storage)\r\n[![API Docs](https://img.shields.io/badge/API%20Documentation-476ff0)](https://typhonjs-svelte.github.io/simple-web-storage/)\r\n[![Discord](https://img.shields.io/discord/737953117999726592?label=TyphonJS%20Discord)](https://typhonjs.io/discord/)\r\n[![Twitch](https://img.shields.io/twitch/status/typhonrt?style=social)](https://www.twitch.tv/typhonrt)\r\n\r\n\r\nProvides a set of [Svelte store](https://svelte.dev/docs#svelte_store) helper functions to connect Svelte w/ the \r\nbrowser web [Storage](https://developer.mozilla.org/en-US/docs/Web/API/Storage) API. This package is an evolution of \r\n[svelte-persistent-stores](https://www.npmjs.com/package/svelte-persistent-store) for Svelte v4+. The primary reason to \r\nchoose this package over alternatives is that it accomplishes the task in ~100 source lines of code w/ no dependencies \r\nbesides Svelte.\r\n\r\n[API documentation](https://typhonjs-svelte.github.io/simple-web-storage/)\r\n\r\n## Usage\r\n\r\nPersist to [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)\r\n\r\n```js\r\nimport { writable, readable, derived } from '@typhonjs-svelte/simple-web-storage/local';\r\n\r\n// The first argument is the storage key followed by any default value.\r\nconst count = writable('count', 0);\r\n\r\ncount.set(1);\r\n```\r\n\r\nPersist to [sessionStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage)\r\n\r\n```js\r\nimport { writable, readable, derived } from '@typhonjs-svelte/simple-web-storage/session';\r\n\r\n// The first argument is the storage key followed by any default value.\r\nconst count = writable('count', 0);\r\n\r\ncount.set(1);\r\n```\r\n\r\nThe named exports from the main package export provides `localStores` / `sessionStores` respectively containing \r\n`derived` / `readable` / `writable` properties. \r\n\r\n```js\r\nimport { localStores, sessionStores } from '@typhonjs-svelte/simple-web-storage';\r\n\r\n// The first argument is the storage key followed by any default value.\r\nconst localCount = localStores.writable('count', 0);\r\nconst sessionCount = sessionStores.writable('count', 0);\r\n\r\nlocalCount.set(1);\r\nsessionCount.set(1);\r\n```\r\n\r\n## API\r\n\r\nThe stores provided have the same signature as the Svelte store helper functions except the first argument is the \r\nstring `key` used by `localStorage` and `sessionStorage` to store and retrieve the value. The \r\n[Storage](https://developer.mozilla.org/en-US/docs/Web/API/Storage) interface specification only allows string values \r\ntherefore this library by default serializes stored values as JSON.\r\n\r\n## Advanced API / Customization\r\n\r\nThe `storeGenerator` function that wraps and creates [Storage](https://developer.mozilla.org/en-US/docs/Web/API/Storage) \r\nconnected stores is available allowing further external customization. You may provide a custom serialization strategy \r\nthat is different from JSON along with providing any Storage API compatible interface besides browser `localStorage` / \r\n`sessionStorage`. The `serialize` / `deserialize` functions must match the partial signatures of `JSON.parse` / \r\n`JSON.stringify`; IE the first `value` argument and return types.\r\n\r\nThe following is a Typescript example for generating storage API compatible stores w/ a customized serialization \r\nstrategy: \r\n```ts\r\nimport {\r\n   storeGenerator,\r\n   StorageDerived,\r\n   StorageReadable,\r\n   StorageWritable } from '@typhonjs-svelte/simple-web-storage/generator';\r\n\r\n// The `storage` option for `storeGenerator` must be a Storage API compatible instance.\r\n\r\n// Provide a JSON parse / stringify signature compatible functions to modify serialization strategy. \r\n// const deserialize = ... // (value: string, ...rest: any[]) => any \r\n// const serialize = ... // (value: any, ...rest: any[]) => string\r\n\r\nexport const localStores = storeGenerator({ storage: globalThis?.localStorage, serialize, deserialize });\r\n\r\nexport const derived: StorageDerived = localStores.derived;\r\nexport const readable: StorageReadable = localStores.readable;\r\nexport const writable: StorageWritable = localStores.writable;\r\n```\r\n\r\nBeyond the `derived`, `readable`, and `writable` store helper functions created `storeGenerator` also adds the \r\n`storage`, `serialize`, and `deserialize` instance / functions to the returned object.\r\n\r\nIn the package tests the custom serialization strategy tested is compressed MessagePack to base64 data. \r\n\r\n\r\n## Other Svelte browser storage packages\r\n\r\nFor more comprehensive solutions that are a bit more heavyweight check out:\r\n- [@macfja/svelte-persistent-store](https://www.npmjs.com/package/@macfja/svelte-persistent-store)\r\n- [Dexie.js (IndexedDB)](https://dexie.org/)\r\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3596, 7],
		[3603, 8],
		[3617, 1],
		[3624, 1],
		[3645, 3],
		[3652, 5],
		[3659, 72],
		[3666, 32],
		[3673, 3],
		[3687, 5],
		[3694, 2],
		[3701, 1],
		[3708, 1],
		[3715, 2],
		[3736, 2],
		[3743, 2],
		[3750, 3],
		[3764, 2],
		[3771, 4],
		[3778, 2],
		[3785, 2],
		[3792, 8],
		[3799, 2],
		[3806, 1],
		[3813, 2],
		[3820, 3],
		[3834, 7],
		[3841, 28],
		[3862, 7],
		[3876, 5],
		[3883, 2],
		[3890, 7],
		[3911, 2],
		[3918, 1],
		[3925, 4],
		[3932, 6],
		[3939, 2],
		[3946, 6],
		[3953, 1],
		[3960, 2],
		[3967, 16],
		[3981, 2],
		[3988, 3],
		[3995, 5],
		[4002, 1],
		[4009, 1],
		[4016, 6],
		[4023, 7],
		[4030, 1],
		[4037, 13],
		[4044, 21],
		[4051, 3],
		[4058, 3],
		[4072, 2],
		[4079, 3],
		[4086, 1],
		[4093, 8],
		[4100, 12],
		[4107, 4],
		[4114, 8],
		[4121, 9],
		[4128, 4],
		[4135, 5]
	],
	"esm": true,
	"cjs": false
}
