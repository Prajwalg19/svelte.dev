{
	"name": "@apsc/keyboard-shortcut-action",
	"description": "Call functions via keyboard shortcuts in Svelte apps.",
	"repo_url": "https://github.com/andrey-pavlenko/svelte-components",
	"authors": ["andrey-pavlenko"],
	"homepage": "https://github.com/andrey-pavlenko/svelte-components/tree/main/packages/keyboard-shortcut-action#readme",
	"downloads": 6,
	"updated": "2023-02-01T20:15:30.166Z",
	"tags": ["miscellaneous"],
	"github_stars": 3,
	"typescript": true,
	"version": "0.0.4",
	"svelte_range": "^3.30.0",
	"last_rune_check_version": "0.0.4",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@apsc/keyboard-shortcut-action",
				"version": "0.0.4",
				"size": 8288
			},
			{
				"name": "keyboard-event-to-string",
				"version": "2.1.0",
				"size": 16368
			}
		],
		"dependencies": [[0, 1]],
		"circular": []
	},
	"legacy_svelte": false,
	"readme": "# Action to call a function by keyboard shortcut for Svelte directive `use`\n\n- allows to reduce keyboard event handling code\n- dependence [`keyboard-event-to-string`](https://www.npmjs.com/package/keyboard-event-to-string)\n\n### [Docs & Demo](https://andrey-pavlenko.github.io/svelte-components/?c=keyboard-shortcut-action)\n\n## Install\n\n### NPM\n\n```sh\nnpm i -D @apsc/keyboard-shortcut-action\n```\n\n### PNPM\n\n```sh\npnpm add -D @apsc/keyboard-shortcut-action\n```\n\n## API\n\n```ts\nlet active = 0;\nconst items = [...Array(20).keys()].map((i) => ({\n  id: i + 1,\n  message: `Text #${(i + 1).toString().padStart(2, '0')}`\n}));\n\n<div\n  tabindex=\"0\"\n  use:useKeyboardShortcut={{\n    event: 'keydown',\n    preventDefault: true,\n    fns: {\n      'Ctrl+ArrowUp': () => (active = 0),\n      'ArrowUp': () => (active = Math.max(0, active - 1)),\n      'Ctrl+ArrowDown': () => (active = items.length - 1),\n      'ArrowDown': () => (active = Math.min(items.length - 1, active + 1))\n    }\n  }}\n>\n  {#each items as item, index}\n    <div class:active={active === index}>{item.id} {item.message}</div>\n  {/each}\n</div>\n```\n\n#### useKeyboardShortcut options\n\n```ts\nexport interface UseKeyboardShortcutOptions {\n  event: 'keypress' | 'keydown' | 'keyup';\n  capture?: boolean; // default false\n  passive?: boolean; // default false\n  preventDefault?: boolean; // default false\n  stopPropagation?: boolean; // default false\n  stopImmediatePropagation?: boolean; // default false\n  fns: Record<string, (event: KeyboardEvent) => void>;\n}\n```\n\n#### Lifecycle\n\nThe action attaches a handler to the corresponding event `options.event` with parameters\n\n- `capture`\n- `passive`\n\nThe handler converts event to `shortcut` using package [`keyboard-event-to-string`](https://www.npmjs.com/package/keyboard-event-to-string).\n\nIf function `options.fns[shortcut]` exists then handler executes\n\n- `event.preventDefault()` if `options.preventDefault == true`\n- `event.stopPropagation()` if `options.stopPropagation == true`\n- `event.stopImmediatePropagation()` if `options.stopImmediatePropagation == true`\n\nAfter it calls `options.fns[shortcut](event)`.\n\n**Note!** The action modifies [global options](https://github.com/ndp-software/keyboard-event-to-string#options)\n\n```js\nsetOptions({ joinWith: '+' });\n```\n\nTherefore, the shortcut obtained in the action are `Ctrl+A` instead `Ctrl + A`.\n",
	"downloads_history": [
		[3589, 1],
		[3596, 9],
		[3603, 2],
		[3610, 1],
		[3617, 3],
		[3631, 1],
		[3645, 2],
		[3659, 6],
		[3666, 5],
		[3687, 1],
		[3694, 1],
		[3701, 1],
		[3708, 2],
		[3715, 2],
		[3722, 1],
		[3729, 1],
		[3743, 1],
		[3757, 1],
		[3764, 1],
		[3771, 4],
		[3778, 2],
		[3792, 1],
		[3799, 2],
		[3806, 2],
		[3820, 2],
		[3827, 6],
		[3834, 5],
		[3841, 19],
		[3855, 5],
		[3862, 8],
		[3869, 1],
		[3876, 5],
		[3890, 1],
		[3904, 4],
		[3911, 2],
		[3918, 3],
		[3932, 1],
		[3939, 5],
		[3953, 1],
		[3967, 1],
		[3988, 4],
		[3995, 5],
		[4002, 4],
		[4009, 4],
		[4016, 5],
		[4030, 3],
		[4037, 8],
		[4044, 8],
		[4051, 4],
		[4058, 1],
		[4065, 1],
		[4072, 1],
		[4086, 13],
		[4100, 17],
		[4107, 2],
		[4114, 6],
		[4121, 8],
		[4128, 2]
	],
	"esm": true,
	"cjs": false
}
