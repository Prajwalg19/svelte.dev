{
	"name": "@agnos-ui/svelte-preprocess",
	"description": "Preprocess Svelte directives server-side.",
	"repo_url": "https://github.com/AmadeusITGroup/AgnosUI",
	"authors": ["divdavem", "basso", "qderoubaix"],
	"homepage": "https://www.agnosui.dev/latest/",
	"downloads": 17,
	"updated": "2025-05-02T13:57:45.363Z",
	"tags": ["tooling"],
	"github_stars": 70,
	"typescript": true,
	"version": "0.8.1",
	"svelte_range": "^5.16.0",
	"last_rune_check_version": "0.8.1",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@agnos-ui/svelte-preprocess",
				"version": "0.8.1",
				"size": 12760
			},
			{
				"name": "magic-string",
				"version": "0.30.17",
				"size": 467464
			},
			{
				"name": "@jridgewell/sourcemap-codec",
				"version": "1.5.0",
				"size": 112815
			}
		],
		"dependencies": [
			[0, 1],
			[1, 2]
		],
		"circular": []
	},
	"legacy_svelte": false,
	"readme": "# @agnos-ui/svelte-preprocess\n\n[![npm](https://img.shields.io/npm/v/@agnos-ui/svelte-preprocess)](https://www.npmjs.com/package/@agnos-ui/svelte-preprocess)\n\nPreprocessor to run [Svelte](https://svelte.dev/) [actions](https://svelte.dev/docs/svelte-action) server-side, which are called [directives](https://www.agnosui.dev/latest/docs/angular/headless/directives) in AgnosUI.\n\n## Installation\n\n```sh\nnpm install @agnos-ui/svelte-preprocess\n```\n\n## Usage\n\nAdd the `directivesPreprocess()` preprocessor to your `svelte.config.js`:\n\n```js\nimport {directivesPreprocess} from '@agnos-ui/svelte-preprocess';\n\n// ...\n\n/** @type {import('@sveltejs/kit').Config} */\nconst config = {\n\t// ...\n\n\t// Consult https://kit.svelte.dev/docs/integrations#preprocessors\n\t// for more information about preprocessors\n\tpreprocess: [\n\t\t// ... existing preprocessors\n\n\t\t// Add the following line:\n\t\tdirectivesPreprocess(),\n\t],\n\n\t// ...\n};\n\nexport default config;\n```\n\nGiven the following file:\n\n```svelte\n<script>\n\timport {myDirective} from './myDirective';\n</script>\n\n<div use:myDirective></div>\n```\n\nThe preprocessor will transform it into something like:\n\n```svelte\n<script>\n\timport {ssrAttributes} from '@agnos-ui/svelte-headless/utils/directive';\n\timport {BROWSER} from 'esm-env';\n\timport {myDirective} from './myDirective';\n</script>\n\n<div use:myDirective {...BROWSER ? {} : ssrAttributes(myDirective)}></div>\n```\n\nOn the server, `ssrAttributes` runs all the provided directives with an [`SSRHTMLElement`](https://github.com/AmadeusITGroup/AgnosUI/blob/ffc1339eb60e02e07d3415efd3f6fac890c8a39d/core/src/types.ts#L94) that implements a subset of the full [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement). The attributes added by the directives on this element are returned by `ssrAttributes` to be included in the SSR-generated markup.\n\nIf the element has a `class` attribute, the preprocessor will replace it with the `classDirective` directive to make sure the value of the class attribute is correctly merged both on the server and on the client with any other class that may be added by some other directive.\n",
	"downloads_history": [
		[3764, 89],
		[3771, 15],
		[3778, 4],
		[3785, 2],
		[3792, 4],
		[3799, 1],
		[3806, 4],
		[3813, 1],
		[3827, 50],
		[3834, 52],
		[3841, 9],
		[3848, 4],
		[3855, 56],
		[3862, 74],
		[3869, 20],
		[3876, 7],
		[3883, 3],
		[3890, 9],
		[3897, 12],
		[3904, 75],
		[3911, 70],
		[3918, 78],
		[3925, 1],
		[3932, 12],
		[3939, 7],
		[3946, 1],
		[3953, 120],
		[3960, 5],
		[3967, 6],
		[3974, 1],
		[3981, 50],
		[3988, 186],
		[3995, 83],
		[4002, 103],
		[4009, 12],
		[4016, 13],
		[4023, 87],
		[4030, 15],
		[4037, 20],
		[4044, 23],
		[4051, 7],
		[4058, 12],
		[4065, 1],
		[4072, 54],
		[4079, 63],
		[4086, 84],
		[4093, 17],
		[4100, 33],
		[4107, 65],
		[4114, 17],
		[4121, 22],
		[4128, 6]
	]
}
