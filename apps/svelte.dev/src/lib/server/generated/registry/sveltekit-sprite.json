{
	"name": "sveltekit-sprite",
	"description": "Inline SVG sprites into SvelteKit app templates.",
	"repo_url": "https://github.com/rodshtein/sveltekit-sprite",
	"authors": ["misharodshtein"],
	"homepage": "https://github.com/rodshtein/sveltekit-sprite",
	"downloads": 16,
	"updated": "2025-04-15T13:01:13.356Z",
	"tags": ["tooling"],
	"github_stars": 11,
	"typescript": true,
	"version": "0.3.0",
	"svelte_range": "^3.54.0",
	"kit_range": "^1.0.0",
	"last_rune_check_version": "0.3.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "sveltekit-sprite",
				"version": "0.3.0",
				"size": 129964
			},
			{
				"name": "svgo",
				"version": "2.8.0",
				"size": 975338
			},
			{
				"name": "csso",
				"version": "4.2.0",
				"size": 592991
			},
			{
				"name": "css-tree",
				"version": "1.1.3",
				"size": 989149
			},
			{
				"name": "mdn-data",
				"version": "2.0.14",
				"size": 561782
			},
			{
				"name": "source-map",
				"version": "0.6.1"
			},
			{
				"name": "stable",
				"version": "0.1.8",
				"size": 8408
			},
			{
				"name": "commander",
				"version": "7.2.0",
				"size": 144710
			},
			{
				"name": "css-select",
				"version": "4.3.0",
				"size": 82444
			},
			{
				"name": "boolbase",
				"version": "1.0.0"
			},
			{
				"name": "css-what",
				"version": "6.1.0",
				"size": 66038
			},
			{
				"name": "domhandler",
				"version": "4.3.1",
				"size": 44583
			},
			{
				"name": "domelementtype",
				"version": "2.3.0",
				"size": 11359
			},
			{
				"name": "domutils",
				"version": "2.8.0",
				"size": 56647
			},
			{
				"name": "dom-serializer",
				"version": "1.4.1",
				"size": 28312
			},
			{
				"name": "entities",
				"version": "2.2.0",
				"size": 57673
			},
			{
				"name": "nth-check",
				"version": "2.1.1",
				"size": 42555
			},
			{
				"name": "picocolors",
				"version": "1.1.1",
				"size": 6373
			},
			{
				"name": "@trysound/sax",
				"version": "0.2.0",
				"size": 48776
			}
		],
		"dependencies": [
			[0, 1],
			[1, 2],
			[2, 3],
			[3, 4],
			[3, 5],
			[1, 6],
			[1, 3],
			[1, 7],
			[1, 8],
			[8, 9],
			[8, 10],
			[8, 11],
			[11, 12],
			[8, 13],
			[13, 11],
			[13, 14],
			[14, 12],
			[14, 11],
			[14, 15],
			[13, 12],
			[8, 16],
			[16, 9],
			[1, 17],
			[1, 18]
		],
		"circular": []
	},
	"readme": "# SvelteKit Sprite Plugin\n\nThis plugin simplifies the process of using SVG sprites within your SvelteKit projects. It compiles your SVG files into a single sprite, optimizing them with SVGO, and injects the sprite directly into your application's HTML.\n\n## Key Features\n\n*   **SVG Sprite Generation:** Creates a single SVG sprite containing symbols derived from your source SVG files.\n*   **Optimized with SVGO:** Applies SVGO (Scalable Vector Graphics Optimizer) to reduce file size and improve performance.  Includes options to customize optimization.\n*   **Unique Symbol IDs:** Generates unique IDs for all symbols within the sprite, ensuring proper referencing.\n*   **Folder-Based IDs:**  Supports folder-based organization of your SVG files, reflecting in the symbol IDs for easy referencing.\n*   **Direct HTML Injection:**  Injects the generated sprite directly into your application's `app.html` file for streamlined integration.\n*   **File Watcher:**  Watches for changes in your SVG source directory and automatically regenerates the sprite during development.\n*   **Style Prefix:**  Replace all id's inside the svg files to be more specific to your project\n\n## Roadmap (Completed features are marked)\n\n- [x] Build sprite from folder\n- [x] Style id encapsulating\n- [x] Generate a single SVG sprite file.\n- [x] Remove `injectLabel` option.\n- [x] Add `outputFile` option.\n- [x] Add watch for `svgSource` change.\n- [x] Reload the page when the sprite file is generated.\n\n- [ ] Build sprite from files array\n- [ ] Error handling\n- [ ] Save sprite to file\n- [ ] Unwrap symbols from file in folder\n- [ ] Add svg's from @import\n\n## Get Started\n\n**1. Install the Plugin:**\n\n   Run the following command in your SvelteKit project:\n\n   ```bash\n   npm install -D sveltekit-sprite\n   ```\n\n**2. Configure Vite:**\n\n   Import and configure the plugin in your `vite.config.js` file:\n\n   ```javascript\n   import { sveltekit } from '@sveltejs/kit/vite';\n   import { sveltekitSprite } from 'sveltekit-sprite';\n\n   /** @type {import('vite').UserConfig} */\n   const config = {\n     plugins: [\n       sveltekit(),\n       sveltekitSprite({\n         // Options go here (see below)\n       }),\n     ],\n   };\n\n   export default config;\n   ```\n\n**3. Place SVG Files:**\n\n   Place your SVG files within a designated source directory.  The default location is `src/lib/sprite`, but this can be customized using the [`svgSource`](#svgsource) option.\n\n**4. Integrate the Sprite into Your App (using `hooks.server.ts`)**:\n\n   To integrate the SVG sprite with your application you have to:\n\n   *   **Add label to app template:**\n        In `app.html` add label `%vite.plugin.sprite%` to point Vite where to inline the svg sprite.\n        ```html\n        <body data-sveltekit-preload-data=\"hover\">\n          %vite.plugin.sprite%\n          <div style=\"display: contents\">%sveltekit.body%</div>\n        </body>\n        ```\n   *   **Create or update** `src/hooks.server.ts` file.\n\n        ```ts\n        import { sequence } from '@sveltejs/kit/hooks';\n        import svgSprite from '$lib/sveltekit-sprite.svg?raw';\n\n        const handleSvgSprite: Handle = async ({ event, resolve }) => {\n          return resolve(event, {\n            transformPageChunk: ({ html }) => html.replace('%vite.plugin.sprite%', svgSprite ?? '')\n          });\n        };\n\n        export const handle: Handle = sequence(handleSvgSprite);\n        ```\n\n**5. Add Links to SVG Symbols:**\n\n   Reference the specific symbols in your Svelte components using the following format:\n\n   ```html\n   <svg>\n     <use xlink:href=\"#[symbolPrefix]--[subfolder]-[file-name]\" />\n   </svg>\n   ```\n\n   *   `[symbolPrefix]` is the value you set for the `symbolPrefix` option (defaults to `svg`).\n   *   `[subfolder]` is the name of the subfolder (if any) where your SVG file is located within the `svgSource` directory.  Use empty string if no subfolders.\n   *   `[file-name]` is the name of your SVG file (without the `.svg` extension).\n\n   **Example:**\n\n   If you have an SVG file named `star.svg` located in `src/lib/sprite/icons/`, and you're using the default `symbolPrefix`, the ID would be `#svg--icons-star`.\n\n## Options\n\nHere's a breakdown of the available options:\n\n### `svgSource`\n\n*   **Type:** `string`\n*   **Default:** `'src/lib/sprite'`\n*   **Description:** Specifies the directory where your SVG source files are located (relative to your project root). The plugin watches this folder for changes.\n\n   ```javascript\n   sveltekitSprite({\n     svgSource: 'src/assets/svg',\n   });\n   ```\n\n### `outputFile`\n\n*   **Type:** `string`\n*   **Default:** `'src/lib/sveltekit-sprite.svg'`\n*   **Description:** Specifies the output file where the generated SVG sprite will be saved.  This file is then imported and used in your `hooks.server.ts` file, as shown in the [Get Started](#get-started) section.\n\n   ```javascript\n   sveltekitSprite({\n     outputFile: 'static/sprite.svg', // Place in the static folder for direct access\n   });\n   ```\n\n### `symbolPrefix`\n\n*   **Type:** `string`\n*   **Default:** `'svg'`\n*   **Description:**  The prefix to be added to the beginning of each symbol ID in the sprite. This helps you uniquely identify your SVG symbols.\n\n   ```javascript\n   sveltekitSprite({\n     symbolPrefix: 'icon',\n   });\n   ```\n   **Usage in Svelte:**\n   ```html\n     <svg>\n       <use xlink:href=\"#icon--icons-star\" />\n     </svg>\n   ```\n\n### `stylePrefix`\n\n*   **Type:** `string`\n*   **Default:** `'icon'`\n*   **Description:**  The prefix to be added to all IDs inside the svg files to be more specific to your project.\n\n   ```javascript\n   sveltekitSprite({\n     stylePrefix: 'icon-style',\n   });\n   ```\n\n### `svgoOptions`\n\n*   **Type:** `object`\n*   **Default:** `{ presetDefault: true }`\n*   **Description:**  Configuration options for the SVGO optimizer.  Refer to the [SVGO documentation](https://github.com/svg/svgo) for a comprehensive list of available options.\n\n    *   `presetDefault`:  Enables or disables SVGO's default plugins.\n    *   You can override default plugins.\n\n   ```javascript\n   sveltekitSprite({\n     svgoOptions: {\n       presetDefault: true, // or false to disable default plugins\n       plugins: [\n         { name: 'removeViewBox', active: false }, // Disable removeViewBox\n         { name: 'removeAttrs', params: { attrs: ['fill', 'stroke'] } }, // Remove fill and stroke attributes\n       ],\n     },\n   });\n   ```\n**⚠️ Important Notes about `svgoOptions`:**\n\n*   If you set `presetDefault` to `false`, you'll typically want to specify the `plugins` option to configure the optimizations you want to apply.  Otherwise, no optimizations will occur.\n*   For building the sprite from folder the plugin add  `removeViewBox: false` option.\n*   `prefixIds` option is always on for build a sprite from a folder with the: `prefix` option, you can't override it.\n\n## Usage in Svelte without SvelteKit (Not tested)\n\nWhile primarily designed for SvelteKit, you can potentially integrate the sprite into a standard Svelte project (not tested):\n\n1.  **Install the Plugin:** `npm install -D sveltekit-sprite`\n2.  **Configure Vite:** Configure the plugin inside `vite.config.js`.\n3.  **Import the Sprite:**\n    ```svelte\n    <script>\n      import svgSprite from '$lib/sveltekit-sprite.svg?raw';\n    </script>\n\n    <div>{@html svgSprite}</div>\n    ```\n4.  **Add Links:** follow [5. Add Links to SVG Symbols:](#add-links-to-svg-symbols) section to implement symbols in your project\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3596, 3],
		[3603, 22],
		[3610, 15],
		[3617, 32],
		[3624, 6],
		[3631, 6],
		[3638, 37],
		[3645, 12],
		[3652, 5],
		[3659, 19],
		[3666, 16],
		[3673, 4],
		[3680, 2],
		[3687, 2],
		[3694, 2],
		[3701, 3],
		[3708, 10],
		[3715, 3],
		[3722, 6],
		[3729, 7],
		[3736, 34],
		[3743, 6],
		[3750, 11],
		[3757, 13],
		[3764, 11],
		[3771, 12],
		[3778, 9],
		[3785, 5],
		[3792, 35],
		[3799, 11],
		[3806, 8],
		[3813, 14],
		[3820, 17],
		[3827, 33],
		[3834, 34],
		[3841, 29],
		[3848, 6],
		[3855, 14],
		[3862, 5],
		[3869, 6],
		[3876, 1],
		[3883, 12],
		[3890, 14],
		[3897, 8],
		[3904, 30],
		[3911, 91],
		[3918, 8],
		[3925, 3],
		[3932, 4],
		[3939, 6],
		[3946, 10],
		[3953, 3],
		[3960, 11],
		[3967, 6],
		[3974, 1],
		[3981, 19],
		[3988, 14],
		[3995, 28],
		[4002, 16],
		[4009, 15],
		[4016, 5],
		[4023, 4],
		[4037, 13],
		[4044, 7],
		[4051, 5],
		[4058, 8],
		[4065, 40],
		[4072, 135],
		[4079, 15],
		[4093, 20],
		[4100, 35],
		[4107, 14],
		[4114, 16],
		[4121, 82],
		[4128, 11],
		[4135, 23]
	],
	"esm": true,
	"cjs": true
}
