{
	"name": "svecure",
	"description": "Secure SvelteKit load functions with error handling.",
	"repo_url": "https://github.com/afroborg/svecure",
	"authors": ["afroborg"],
	"homepage": "https://github.com/afroborg/svecure#readme",
	"downloads": 5,
	"updated": "2023-03-03T12:45:07.628Z",
	"tags": ["server"],
	"github_stars": 0,
	"typescript": true,
	"version": "0.0.3",
	"svelte_range": "^3.55.1",
	"kit_range": "^1.9.3",
	"last_rune_check_version": "0.0.3",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "svecure",
				"version": "0.0.3",
				"size": 7555
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# üîê Svecure - Secure your load functions\n\nSecure your load functions with wrappers that will handle errorchecking for you.\n\n## Installation\n\n```bash\nnpm install svecure\n\n# or yarn\nyarn add svecure\n\n# or pnpm\npnpm add svecure\n```\n\n## Usage\n\n```ts\n// +(page|layout).ts\n\nimport { createLoadVerifier } from 'svecure';\nimport { PageLoad } from './$types';\n\nconst withVerification = createLoadVerifier<PageLoad>(() => {\n\t// ...your verification logic\n\treturn true;\n});\n\nexport const load = withVerification(() => {\n\treturn {\n\t\t// ...your data\n\t};\n});\n```\n\n```ts\n// +(page|layout).server.ts\n\nimport { createLoadVerifier } from 'svecure';\nimport { PageServerLoad } from './$types';\n\nconst withVerification = createLoadVerifier<PageServerLoad>(() => {\n\t// ...your verification logic\n\treturn true;\n});\n\nexport const load = withVerification(() => {\n\treturn {\n\t\t// ...your data\n\t};\n});\n```\n\n### Custom error messages\n\nIf the verification fails, the load functino will by default throw a SvelteKit [`error`](https://kit.svelte.dev/docs/modules#sveltejs-kit-error) with a status of `401` and a message of `Unauthorized`. You can customize this by passing a second argument to `createLoadVerifier`:\n\n```ts\nconst withVerification = createLoadVerifier<PageLoad>(\n\t() => {\n\t\t// ...your verification logic\n\t\treturn false;\n\t},\n\t{\n\t\tstatus: 403,\n\t\tmessage: 'You are not allowed to access this page'\n\t}\n);\n```\n\nOr with a custom function (if you for example need to redirect to a login page):\n\n```ts\nimport { redirect } from '@sveltejs/kit';\n\nconst withVerification = createLoadVerifier<PageLoad>(\n\t() => {\n\t\t// ...your verification logic\n\t\treturn false;\n\t},\n\t() => {\n\t\tthrow redirect(302, '/login');\n\t}\n);\n```\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3596, 2],
		[3603, 3],
		[3610, 3],
		[3617, 1],
		[3624, 3],
		[3645, 2],
		[3652, 3],
		[3666, 4],
		[3673, 1],
		[3694, 1],
		[3722, 1],
		[3743, 1],
		[3757, 1],
		[3771, 4],
		[3778, 1],
		[3792, 2],
		[3806, 1],
		[3820, 1],
		[3834, 1],
		[3841, 15],
		[3848, 3],
		[3869, 1],
		[3876, 1],
		[3890, 3],
		[3897, 1],
		[3911, 3],
		[3918, 1],
		[3932, 4],
		[3939, 3],
		[3946, 4],
		[3967, 1],
		[3974, 3],
		[3995, 1],
		[4016, 3],
		[4023, 1],
		[4037, 8],
		[4044, 7],
		[4051, 1],
		[4065, 1],
		[4100, 9],
		[4107, 1],
		[4114, 5],
		[4121, 7],
		[4128, 4]
	],
	"esm": true,
	"cjs": false
}
