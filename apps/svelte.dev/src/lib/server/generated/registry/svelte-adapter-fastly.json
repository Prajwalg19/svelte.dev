{
	"name": "svelte-adapter-fastly",
	"description": "Deploy SvelteKit apps to Fastly Compute@Edge.",
	"repo_url": "https://github.com/bertybot/svelte-adapter-fastly",
	"authors": ["bertybot"],
	"homepage": "https://github.com/bertybot/svelte-adapter-fastly#readme",
	"downloads": 6,
	"updated": "2025-01-29T20:41:40.887Z",
	"tags": ["adapter"],
	"github_stars": 2,
	"typescript": true,
	"version": "0.1.0",
	"kit_range": "^2.0.0",
	"last_rune_check_version": "0.1.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "svelte-adapter-fastly",
				"version": "0.1.0",
				"size": 17911
			},
			{
				"name": "@fastly/compute-js-static-publish",
				"version": "6.3.0",
				"size": 213621
			},
			{
				"name": "glob-to-regexp",
				"version": "0.4.1",
				"size": 18100
			},
			{
				"name": "command-line-args",
				"version": "5.2.1",
				"size": 116754
			},
			{
				"name": "typical",
				"version": "4.0.0",
				"size": 22508
			},
			{
				"name": "array-back",
				"version": "3.1.0",
				"size": 8954
			},
			{
				"name": "find-replace",
				"version": "3.0.0",
				"size": 12060
			},
			{
				"name": "lodash.camelcase",
				"version": "4.3.0"
			},
			{
				"name": "@iarna/toml",
				"version": "2.2.5",
				"size": 99042
			},
			{
				"name": "@fastly/js-compute",
				"version": "3.34.0",
				"size": 54086505
			},
			{
				"name": "@bytecodealliance/jco",
				"version": "1.11.1",
				"size": 5436982,
				"isCircular": true,
				"circularTarget": 10
			},
			{
				"name": "@bytecodealliance/componentize-js",
				"version": "0.17.0",
				"size": 43545605
			},
			{
				"name": "es-module-lexer",
				"version": "1.7.0",
				"size": 93440
			},
			{
				"name": "@bytecodealliance/weval",
				"version": "0.3.3",
				"size": 16720
			},
			{
				"name": "@napi-rs/lzma",
				"version": "1.4.2",
				"size": 15277
			},
			{
				"name": "decompress",
				"version": "4.2.1",
				"size": 8121
			},
			{
				"name": "decompress-tar",
				"version": "4.1.1"
			},
			{
				"name": "file-type",
				"version": "5.2.0"
			},
			{
				"name": "is-stream",
				"version": "1.1.0"
			},
			{
				"name": "tar-stream",
				"version": "1.6.2",
				"size": 26782
			},
			{
				"name": "bl",
				"version": "1.2.3",
				"size": 38900
			},
			{
				"name": "safe-buffer",
				"version": "5.2.1",
				"size": 32101
			},
			{
				"name": "readable-stream",
				"version": "2.3.8",
				"size": 88115
			},
			{
				"name": "isarray",
				"version": "1.0.0"
			},
			{
				"name": "inherits",
				"version": "2.0.4",
				"size": 3958
			},
			{
				"name": "safe-buffer",
				"version": "5.1.2",
				"size": 31686
			},
			{
				"name": "core-util-is",
				"version": "1.0.3",
				"size": 4982
			},
			{
				"name": "string_decoder",
				"version": "1.1.1",
				"size": 15298
			},
			{
				"name": "util-deprecate",
				"version": "1.0.2"
			},
			{
				"name": "process-nextick-args",
				"version": "2.0.1",
				"size": 3175
			},
			{
				"name": "buffer-alloc",
				"version": "1.2.0",
				"size": 2274
			},
			{
				"name": "buffer-alloc-unsafe",
				"version": "1.1.0",
				"size": 1936
			},
			{
				"name": "buffer-fill",
				"version": "1.0.0",
				"size": 4390
			},
			{
				"name": "end-of-stream",
				"version": "1.4.4",
				"size": 6234
			},
			{
				"name": "once",
				"version": "1.4.0"
			},
			{
				"name": "wrappy",
				"version": "1.0.2"
			},
			{
				"name": "fs-constants",
				"version": "1.0.0",
				"size": 2223
			},
			{
				"name": "to-buffer",
				"version": "1.1.1",
				"size": 3254
			},
			{
				"name": "xtend",
				"version": "4.0.2",
				"size": 6465
			},
			{
				"name": "decompress-tarbz2",
				"version": "4.1.1"
			},
			{
				"name": "file-type",
				"version": "6.2.0"
			},
			{
				"name": "seek-bzip",
				"version": "1.0.6",
				"size": 45778
			},
			{
				"name": "commander",
				"version": "2.20.3",
				"size": 62442
			},
			{
				"name": "unbzip2-stream",
				"version": "1.4.3",
				"size": 133327
			},
			{
				"name": "buffer",
				"version": "5.7.1",
				"size": 82527
			},
			{
				"name": "base64-js",
				"version": "1.5.1",
				"size": 9624
			},
			{
				"name": "ieee754",
				"version": "1.2.1",
				"size": 6796
			},
			{
				"name": "through",
				"version": "2.3.8"
			},
			{
				"name": "decompress-targz",
				"version": "4.1.1"
			},
			{
				"name": "decompress-unzip",
				"version": "4.0.1"
			},
			{
				"name": "file-type",
				"version": "3.9.0"
			},
			{
				"name": "get-stream",
				"version": "2.3.1"
			},
			{
				"name": "object-assign",
				"version": "4.1.1"
			},
			{
				"name": "pinkie-promise",
				"version": "2.0.1"
			},
			{
				"name": "pinkie",
				"version": "2.0.4"
			},
			{
				"name": "pify",
				"version": "2.3.0"
			},
			{
				"name": "yauzl",
				"version": "2.10.0",
				"size": 66204
			},
			{
				"name": "fd-slicer",
				"version": "1.1.0",
				"size": 29813
			},
			{
				"name": "pend",
				"version": "1.2.0"
			},
			{
				"name": "buffer-crc32",
				"version": "0.2.13"
			},
			{
				"name": "graceful-fs",
				"version": "4.2.11",
				"size": 32535
			},
			{
				"name": "make-dir",
				"version": "1.3.0",
				"size": 6525
			},
			{
				"name": "pify",
				"version": "3.0.0"
			},
			{
				"name": "strip-dirs",
				"version": "2.1.0"
			},
			{
				"name": "is-natural-number",
				"version": "4.0.1"
			},
			{
				"name": "@bytecodealliance/wizer",
				"version": "7.0.5",
				"size": 22058
			},
			{
				"name": "@bytecodealliance/preview2-shim",
				"version": "0.17.2",
				"size": 307424
			},
			{
				"name": "binaryen",
				"version": "122.0.0",
				"size": 119401602
			},
			{
				"name": "chalk-template",
				"version": "1.1.0",
				"size": 13738
			},
			{
				"name": "chalk",
				"version": "5.4.1",
				"size": 44242
			},
			{
				"name": "commander",
				"version": "12.1.0",
				"size": 186398
			},
			{
				"name": "mkdirp",
				"version": "3.0.1",
				"size": 106656
			},
			{
				"name": "ora",
				"version": "8.2.0",
				"size": 27514
			},
			{
				"name": "cli-cursor",
				"version": "5.0.0",
				"size": 4109
			},
			{
				"name": "restore-cursor",
				"version": "5.1.0",
				"size": 3129
			},
			{
				"name": "onetime",
				"version": "7.0.0",
				"size": 5447
			},
			{
				"name": "mimic-function",
				"version": "5.0.1",
				"size": 8096
			},
			{
				"name": "signal-exit",
				"version": "4.1.0",
				"size": 76966
			},
			{
				"name": "cli-spinners",
				"version": "2.9.2",
				"size": 32113
			},
			{
				"name": "is-interactive",
				"version": "2.0.0",
				"size": 4726
			},
			{
				"name": "is-unicode-supported",
				"version": "2.1.0",
				"size": 3958
			},
			{
				"name": "log-symbols",
				"version": "6.0.0",
				"size": 4246
			},
			{
				"name": "is-unicode-supported",
				"version": "1.3.0",
				"size": 3884
			},
			{
				"name": "stdin-discarder",
				"version": "0.2.2",
				"size": 4041
			},
			{
				"name": "string-width",
				"version": "7.2.0",
				"size": 7773
			},
			{
				"name": "emoji-regex",
				"version": "10.4.0",
				"size": 31990
			},
			{
				"name": "get-east-asian-width",
				"version": "1.3.0",
				"size": 15688
			},
			{
				"name": "strip-ansi",
				"version": "7.1.0",
				"size": 4321
			},
			{
				"name": "ansi-regex",
				"version": "6.1.0",
				"size": 5412
			},
			{
				"name": "terser",
				"version": "5.39.0",
				"size": 2221569
			},
			{
				"name": "@jridgewell/source-map",
				"version": "0.3.6",
				"size": 177363
			},
			{
				"name": "@jridgewell/gen-mapping",
				"version": "0.3.8",
				"size": 81596
			},
			{
				"name": "@jridgewell/set-array",
				"version": "1.2.1",
				"size": 17945
			},
			{
				"name": "@jridgewell/sourcemap-codec",
				"version": "1.5.0",
				"size": 112815
			},
			{
				"name": "@jridgewell/trace-mapping",
				"version": "0.3.25",
				"size": 169330
			},
			{
				"name": "@jridgewell/resolve-uri",
				"version": "3.1.2",
				"size": 53153
			},
			{
				"name": "acorn",
				"version": "8.14.1",
				"size": 547473
			},
			{
				"name": "source-map-support",
				"version": "0.5.21",
				"size": 85177
			},
			{
				"name": "buffer-from",
				"version": "1.1.2",
				"size": 5047
			},
			{
				"name": "source-map",
				"version": "0.6.1"
			},
			{
				"name": "acorn-walk",
				"version": "8.3.4",
				"size": 52296
			},
			{
				"name": "esbuild",
				"version": "0.25.3",
				"size": 134169
			},
			{
				"name": "magic-string",
				"version": "0.30.17",
				"size": 467464
			},
			{
				"name": "regexpu-core",
				"version": "6.2.0",
				"size": 135551
			},
			{
				"name": "regenerate",
				"version": "1.4.2",
				"size": 49156
			},
			{
				"name": "regenerate-unicode-properties",
				"version": "10.2.0",
				"size": 601545
			},
			{
				"name": "regjsgen",
				"version": "0.8.0",
				"size": 14986
			},
			{
				"name": "regjsparser",
				"version": "0.12.0",
				"size": 73459
			},
			{
				"name": "jsesc",
				"version": "3.0.2",
				"size": 31726
			},
			{
				"name": "unicode-match-property-ecmascript",
				"version": "2.0.0",
				"size": 5047
			},
			{
				"name": "unicode-canonical-property-names-ecmascript",
				"version": "2.0.1",
				"size": 4817
			},
			{
				"name": "unicode-property-aliases-ecmascript",
				"version": "2.1.0",
				"size": 5976
			},
			{
				"name": "unicode-match-property-value-ecmascript",
				"version": "2.2.0",
				"size": 26301
			},
			{
				"name": "esbuild",
				"version": "0.24.2",
				"size": 133805
			}
		],
		"dependencies": [
			[0, 1],
			[1, 2],
			[1, 3],
			[3, 4],
			[3, 5],
			[3, 6],
			[6, 5],
			[3, 7],
			[0, 8],
			[0, 9],
			[9, 10],
			[10, 11],
			[11, 12],
			[11, 10],
			[11, 13],
			[13, 14],
			[13, 15],
			[15, 16],
			[16, 17],
			[16, 18],
			[16, 19],
			[19, 20],
			[20, 21],
			[20, 22],
			[22, 23],
			[22, 24],
			[22, 25],
			[22, 26],
			[22, 27],
			[22, 28],
			[22, 29],
			[19, 30],
			[30, 31],
			[30, 32],
			[19, 33],
			[33, 34],
			[34, 35],
			[19, 36],
			[19, 22],
			[19, 37],
			[19, 38],
			[15, 39],
			[39, 16],
			[39, 40],
			[39, 18],
			[39, 41],
			[41, 42],
			[39, 43],
			[43, 44],
			[44, 45],
			[44, 46],
			[43, 47],
			[15, 48],
			[48, 16],
			[48, 17],
			[48, 18],
			[15, 49],
			[49, 50],
			[49, 51],
			[51, 52],
			[51, 53],
			[53, 54],
			[49, 55],
			[49, 56],
			[56, 57],
			[57, 58],
			[56, 59],
			[15, 60],
			[15, 61],
			[61, 62],
			[15, 55],
			[15, 63],
			[63, 64],
			[13, 16],
			[13, 49],
			[11, 65],
			[10, 66],
			[10, 67],
			[10, 68],
			[68, 69],
			[10, 70],
			[10, 71],
			[10, 72],
			[72, 69],
			[72, 73],
			[73, 74],
			[74, 75],
			[75, 76],
			[74, 77],
			[72, 78],
			[72, 79],
			[72, 80],
			[72, 81],
			[81, 69],
			[81, 82],
			[72, 83],
			[72, 84],
			[84, 85],
			[84, 86],
			[84, 87],
			[87, 88],
			[72, 87],
			[10, 89],
			[89, 90],
			[90, 91],
			[91, 92],
			[91, 93],
			[91, 94],
			[94, 95],
			[94, 93],
			[90, 94],
			[89, 96],
			[89, 42],
			[89, 97],
			[97, 98],
			[97, 99],
			[9, 65],
			[9, 13],
			[9, 96],
			[9, 100],
			[100, 96],
			[9, 101],
			[9, 102],
			[102, 93],
			[9, 103],
			[103, 104],
			[103, 105],
			[105, 104],
			[103, 106],
			[103, 107],
			[107, 108],
			[103, 109],
			[109, 110],
			[109, 111],
			[103, 112],
			[0, 113]
		],
		"circular": [[11, 10]]
	},
	"readme": "# svelte-adapter-fastly\n\nA SvelteKit adapter that deploys to fastly compute services\n\nSee the docs for [fastly-compute](https://www.fastly.com/documentation/guides/compute/)\n\n## Getting Started\n\n### Prerequisites\n\nYou will need all the fastly edgeworker CLI tools installed. These should get installed automatically with the package but if not you can install them manually.\n\n```bash\npnpm i @fastly/js-compute @fastly/compute-js-static-publish\n```\n\n1. Set the Adapter in your `svelte.config.js`\n\n```js\nimport adapter from \"svelte-adapter-fastly\";\nimport { vitePreprocess } from \"@sveltejs/vite-plugin-svelte\";\n\n/** @type {import('@sveltejs/kit').Config} */\nconst config = {\n  preprocess: vitePreprocess(),\n  kit: {\n    adapter: adapter(),\n  },\n};\n```\n\n2. You will need a valid [`fastly.toml`](https://www.fastly.com/documentation/reference/compute/fastly-toml/) at the the base of your Sveltekit project.\n\n   - Make sure it has a script to run pnpm build.\n\n3. You can test your project via the fastly CLI using `fastly compute serve`\n\n## Options\n\n### silent\n\nBy default if a fastly.toml file is not included this adapter will help you make one. You can avoid this option in CI/CD enviroments by passing `silent: true`\n\n### staticPublishConfig\n\nDue to its nature as an edgeworker Fastly needs to compile static assets to be served by the edgeworker. This adapter uses [`compute-js-static-publish`](https://github.com/fastly/compute-js-static-publish) to handle this, and uses a default config that should work well for most use cases. However, if you would like to customize this using a `static-publish.rc.js` you can supply the path to it here. This would be useful if you want to store your assets in a KV store instead of binary.\n\n### entry\n\nYou can supply a custom entry file if you want to add middleware before SvelteKit is called, or just want greater customization of the edgeworker.\n\nYou can do this by importing `handleSvelteKitRequest` into your entry file.\n\n```js\n//entry.js\nimport { handleSvelteKitRequest } from \"svelte-adapter-fastly\";\n\n/// <reference types=\"@fastly/js-compute\" />\naddEventListener(\"fetch\", (event) => event.respondWith(handleRequest(event)));\n\n/**\n * @param {FetchEvent} event\n */\nasync function handleRequest(event) {\n  // Get the request from the client.\n  const req = event.request;\n\n  const headers = new Headers();\n  headers.set(\"Content-Type\", \"text/plain\");\n\n  //Requests with edge in URL will return plain non sveltekit response\n  if (req.url.includes(\"edge\")) {\n    return new Response(\"Hi from the edge\", {\n      status: 200,\n      headers,\n    });\n  } else {\n    //everyone else gets the kit!\n    return handleSvelteKitRequest(event);\n  }\n}\n```\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3911, 271],
		[3918, 19],
		[3925, 4],
		[3932, 5],
		[3939, 9],
		[3946, 3],
		[3953, 2],
		[3960, 3],
		[3967, 5],
		[3974, 73],
		[3981, 10],
		[3988, 3],
		[3995, 2],
		[4002, 5],
		[4009, 5],
		[4016, 3],
		[4023, 3],
		[4030, 5],
		[4037, 18],
		[4044, 83],
		[4051, 6],
		[4058, 14],
		[4065, 11],
		[4072, 3],
		[4079, 4],
		[4086, 4],
		[4093, 1],
		[4100, 8],
		[4107, 2],
		[4114, 6],
		[4121, 9],
		[4128, 5]
	]
}
