{
	"name": "scrolly-video",
	"description": "Create scroll-based video playback in Svelte apps.",
	"repo_url": "https://github.com/dkaoster/scrolly-video",
	"authors": ["dkao"],
	"homepage": "https://github.com/dkaoster/scrolly-video#readme",
	"downloads": 544,
	"updated": "2025-03-07T04:16:43.669Z",
	"tags": ["media"],
	"github_stars": 1049,
	"typescript": true,
	"version": "0.0.24",
	"svelte_range": "^4.2.19",
	"last_rune_check_version": "0.0.24",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "scrolly-video",
				"version": "0.0.24",
				"size": 15704093
			},
			{
				"name": "mp4box",
				"version": "0.4.9",
				"size": 968163
			},
			{
				"name": "ua-parser-js",
				"version": "1.0.40",
				"size": 118884
			}
		],
		"dependencies": [
			[0, 1],
			[0, 2]
		],
		"circular": []
	},
	"readme": "# ScrollyVideo.js\n\nA component for scroll-based (or other externally controlled) playback. See [`/demos`](https://github.com/dkaoster/scrolly-video/tree/main/demos) for full example usages.\n\n## ðŸš€ Web\n\nAdd html container to your page:\n\n```html\n<div id=\"scrolly-video\"></div>\n```\n\nRequire javascript in your page and create the object (before `</body>`):\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/scrolly-video@latest/dist/scrolly-video.js\"></script>\n<script type=\"text/javascript\">\n  new ScrollyVideo({\n    scrollyVideoContainer: \"scrolly-video\",\n    src: \"https://scrollyvideo.js.org/goldengate.mp4\"\n  });\n</script>\n```\n\nYou can replace `@latest` with specific version, example `@0.0.2`.\n\n## ðŸ”µ React\n\nInstall npm module with `npm install scrolly-video --save`:\nImport component in your application:\n\n```javascript\nimport ScrollyVideo from 'scrolly-video/dist/ScrollyVideo.cjs.jsx';\nor\nimport ScrollyVideo from 'scrolly-video/dist/ScrollyVideo.esm.jsx';\n```\n\nAdd the component where you need it:\n\n```html\n<ScrollyVideo src=\"https://scrollyvideo.js.org/goldengate.mp4\" />\n```\n\n## ðŸŸ  Svelte\n\nInstall npm module with `npm install scrolly-video --save`:\nImport component in your application:\n\n```javascript\nimport ScrollyVideo from 'scrolly-video/dist/ScrollyVideo.svelte';\n```\n\nAdd the ScrollyVideo component to your application:\n\n```html\n<ScrollyVideo src=\"https://scrollyvideo.js.org/goldengate.mp4\" />\n```\n\n## ðŸŸ¢ Vue\n\nInstall npm module with `npm install scrolly-video --save`:\nImport module in your `src/App.vue` and config:\n\n```javascript\nimport ScrollyVideo from 'scrolly-video/dist/ScrollyVideo.vue';\n```\n\nAdd html code to your html component:\n\n```html\n<ScrollyVideo src=\"https://scrollyvideo.js.org/goldengate.mp4\" />\n```\n\n## ðŸ”µ Astro\n\nInstall npm module with `npm install scrolly-video --save`: \nImport component in your frontmatter:\n\n```javascript\nimport ScrollyVideo from 'scrolly-video/dist/ScrollyVideo.astro';\n```\n\n```html\n<ScrollyVideo src=\"https://scrollyvideo.js.org/goldengate.mp4\" />\n```\n\n## ðŸ§° Options / Attributes\n\n| Parameter             | Description                                                                                              | Values           | Default |\n|:----------------------|:---------------------------------------------------------------------------------------------------------|:-----------------|:--------|\n| src                   | The URL of the video (required)                                                                          | URL              |         |\n| scrollyVideoContainer | The DOM element of the container, only used for plain js                                                 | String / Element |         |\n| transitionSpeed       | Sets the maximum playbackRate for this video                                                             | Number           | 8       |\n| frameThreshold        | When to stop the video animation, in seconds                                                             | Number           | 0.1     |\n| cover                 | Forces the video to cover in it's container                                                              | Boolean          | true    |\n| sticky                | Whether the video should have `position: sticky`                                                         | Boolean          | true    |\n| full                  | Whether the video should take up the entire viewport                                                     | Boolean          | true    |\n| trackScroll           | Whether this object should automatically respond to scroll                                               | Boolean          | true    |\n| lockScroll            | Whether it ignores human scroll while it runs `setVideoPercentage` with enabled `trackScroll`            | Boolean          | true    |\n| useWebCodecs          | Whether the library should use the webcodecs method, see below                                           | Boolean          | true    |\n| videoPercentage       | Manually specify the position of the video between 0..1, only used for react, vue, and svelte components | Number           |         |\n| onReady               | The callback when it's ready to scroll                                                                   | VoidFunction     |         |\n| onChange              | The callback for video percentage change                                                                 | VoidFunction     |         |\n| debug                 | Whether to log debug information                                                                         | Boolean          | false   |\n\n\n## Additional callbacks\n\n***setVideoPercentage***\n\nDescription: A way to set currentTime manually. Pass a progress in between of 0 and 1 that specifies the percentage position of the video. If `trackScroll` enabled - it performs scroll automatically.\n\nSignature: `(percentage: number, options: { transitionSpeed: number, (progress: number) => number }) => void`\n\nExample: `scrollyVideo.setVideoPercentage(0.5, { transitionSpeed: 12, easing: d3.easeLinear })`\n\n\n## Technical Details and Cross Browser Differences\nTo make this library perform optimally in all browsers, three different approaches are taken to animating the video.\n\n### Method 1: WebCodecs and Canvas\n\nUsing the new WebCodecs API we are able to get all frames in the video and have them ready to draw to a canvas. This method is the most performant, but has two drawbacks: first, depending on the device and the size of the video, using the WebCodecs API will take some time to process all the frames, so the animation will not be available immediately upon page load. Secondly, the WebCoedecs API is currently only available on Chrome, and the WebCodecs polyfill does not work for this application.\n\nIf WebCodecs is not supported by the browser or has not finished processing all frames, it falls back to method 2:\n\n### Method 2: HTML5 Video and playbackRate\n\nThis method simply embeds the video with an HTML `<video>` tag, and it plays the video when the video needs to be animated. To adjust to the scroll speed, this method modulates the `playbackRate` attribute on the video in order to dynamically mimic a faster or slower scroll speed. This method is extremely smooth when the scroll direction is moving the video forward, but unfortunately does not work in reverse because `playbackRate` cannot be a negative value.\n\nThus, if the video needs to be animated backwards, this library falls back to method 3.\n\n### Method 3: HTML5 Video and currentTime\n\nThis method is the way that scrollytelling videos have traditionally been done, using an HTML `<video>` tag and skipping directly to frames using currentTime. However, this method requires the video to be encoded at keyframe = 1, which causes the video to be a lot larger or the quality to drop. Unfortunately, this is the only option for scenarios where methods 1 and 2 are not supported, or on mobile safari browsers where somehow this method performs better than method 2. Thus, to achieve maximum performance under all circumstances, it is still recommended to encode videos with keyframe = 1, if possible.\n\n## Known Issues\n- On iOS, ScrollyVideo will not work if battery saver mode is on. Unfortunately, there is no workaround for this due to the way that iOS handles videos and battery saving functions.\n\n---\n\nCreated by: [Daniel Kao](https://www.diplateevo.com/)\n",
	"legacy_svelte": true,
	"downloads_history": [
		[3589, 204],
		[3596, 205],
		[3603, 221],
		[3610, 414],
		[3617, 217],
		[3624, 229],
		[3631, 347],
		[3638, 538],
		[3645, 83],
		[3652, 108],
		[3659, 255],
		[3666, 202],
		[3673, 315],
		[3680, 317],
		[3687, 376],
		[3694, 393],
		[3701, 381],
		[3708, 334],
		[3715, 409],
		[3722, 276],
		[3729, 324],
		[3736, 596],
		[3743, 613],
		[3750, 586],
		[3757, 603],
		[3764, 446],
		[3771, 608],
		[3778, 862],
		[3785, 888],
		[3792, 1049],
		[3799, 725],
		[3806, 875],
		[3813, 747],
		[3820, 634],
		[3827, 509],
		[3834, 430],
		[3841, 545],
		[3848, 542],
		[3855, 615],
		[3862, 938],
		[3869, 643],
		[3876, 368],
		[3883, 553],
		[3890, 782],
		[3897, 844],
		[3904, 936],
		[3911, 584],
		[3918, 611],
		[3925, 847],
		[3932, 714],
		[3939, 651],
		[3946, 975],
		[3953, 887],
		[3960, 1082],
		[3967, 1053],
		[3974, 789],
		[3981, 491],
		[3988, 518],
		[3995, 526],
		[4002, 451],
		[4009, 311],
		[4016, 448],
		[4023, 561],
		[4030, 725],
		[4037, 686],
		[4044, 685],
		[4051, 634],
		[4058, 456],
		[4065, 557],
		[4072, 446],
		[4079, 655],
		[4086, 673],
		[4093, 625],
		[4100, 611],
		[4107, 476],
		[4114, 544],
		[4121, 456],
		[4128, 389]
	],
	"esm": true,
	"cjs": false
}
