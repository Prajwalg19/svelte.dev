{
	"name": "timescape",
	"description": "Flexible, headless date and time input library for Svelte.",
	"repo_url": "https://github.com/dan-lee/timescape",
	"authors": ["dan-lee"],
	"homepage": "https://github.com/dan-lee/timescape#readme",
	"downloads": 4289,
	"updated": "2024-12-25T11:05:58.735Z",
	"tags": ["ui"],
	"github_stars": 194,
	"typescript": true,
	"version": "0.7.1",
	"svelte_range": "3.x",
	"last_rune_check_version": "0.7.1",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "timescape",
				"version": "0.7.1",
				"size": 307399
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# timescape\n\nA powerful, headless library that elegantly fills the void left by HTML's native [`<input type=\"time\">`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/time) and [`<input type=\"date\">`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date).\n\n`timescape` is a toolkit for creating custom date and time input components. It helps you handle date and time data easily while giving you full control over the design and presentation. `timescape` supports multiple libraries, including React, Vue, Preact, Svelte, Solid, and native JavaScript.\n\nKey features such as accessibility and keyboard navigation are at the core of `timescape`, allowing you to focus on creating user-centric date and time inputs that integrate seamlessly into your projects.\n\n<img src=\"./assets/timescape.apng\" style=\"max-height:120px\" />\n\nSee [Storybook](https://timescape.daniellehr.de) or [check out the examples](#examples) of how to use it + [StackBlitz ‚ö°](https://stackblitz.com/@dan-lee/collections/timescape) for more demonstrations.\n\n<a href=\"https://stellate.co\" target=\"_blank\">\n  <picture>\n    <source media=\"(prefers-color-scheme: dark)\" srcset=\"https://raw.githubusercontent.com/dan-lee/timescape/main/assets/badge-dark.svg\" />\n    <img src=\"https://raw.githubusercontent.com/dan-lee/timescape/main/assets/badge-light.svg\" alt=\"Sponsored by Stellate\" />\n  </picture>\n</a>\n\n## Features\n\n- **üß¢ Headless Architecture**: You control the UI ‚Äì `timescape` handles the logic.\n- **üß© Framework Compatibility**: Adapters for [React](https://react.dev/), [Preact](https://preactjs.com/), [Vue](https://vuejs.org/), [Svelte](https://svelte.dev/), and [Solid](https://www.solidjs.com/).\n- **‚öô Flexible API**: Hooks (or equivalents) return getters for seamless component integration. Order of inputs (i.e. format) is completely up to you by just rendering in the order you prefer.\n- **üë• Accessibility**: Full A11y compliance, keyboard navigation and manual input.\n- **‚è∞ Date and time flexibility**: Supports min/max dates and 24/12 hour clock formats.\n- **ü™∂ Lightweight**: No external dependencies.\n- **üîÄ Enhanced input fields**: A supercharged `<input type=\"date/time\">`, offering additional flexibility.\n- **ü§≥ Touch device support**: Use it on any device, including touch devices.\n\n## Installation\n\n```shell\n# pnpm\npnpm add timescape\n\n# yarn\nyarn add timescape\n\n# npm\nnpm install --save timescape\n```\n\n## Examples\n\n<details open>\n  <summary><strong>React</strong></summary>\n\n[Edit on StackBlitz ‚ö°](https://stackblitz.com/edit/timescape-react?file=src%2FApp.tsx)\n\n```tsx\nimport { useTimescape } from \"timescape/react\";\n\nfunction App() {\n  const { getRootProps, getInputProps, options, update } = useTimescape({\n    date: new Date(),\n    onChangeDate: (nextDate) => {\n      console.log(\"Date changed to\", nextDate);\n    },\n  });\n\n  // To change any option:\n  // update((prev) => ({ ...prev, date: new Date() }))\n\n  return (\n    <div className=\"timescape\" {...getRootProps()}>\n      <input {...getInputProps(\"days\")} />\n      <span>/</span>\n      <input {...getInputProps(\"months\")} />\n      <span>/</span>\n      <input {...getInputProps(\"years\")} />\n      <span> </span>\n      <input {...getInputProps(\"hours\")} />\n      <span>:</span>\n      <input {...getInputProps(\"minutes\")} />\n      <span>:</span>\n      <input {...getInputProps(\"seconds\")} />\n    </div>\n  );\n}\n```\n\n</details>\n\n<details>\n<summary><strong>Preact</strong></summary>\n\n[Edit on StackBlitz ‚ö°](https://stackblitz.com/edit/timescape-preact?file=src%2Fapp.tsx)\n\nThis package uses Preact signals, if you want to use it without just use the React implementation in compat mode.\n\n```tsx\nimport { effect } from \"@preact/signals\";\nimport { useTimescape } from \"timescape/preact\";\n\nfunction App() {\n  const { getRootProps, getInputProps, options } = useTimescape({\n    date: new Date(),\n  });\n\n  effect(() => {\n    console.log(\"Date changed to\", options.value.date);\n  });\n\n  // To change any option:\n  // options.value = { ...options.value, date: new Date() }\n\n  return (\n    <div className=\"timescape\" {...getRootProps()}>\n      <input {...getInputProps(\"years\")} />\n      <span>/</span>\n      <input {...getInputProps(\"months\")} />\n      <span>/</span>\n      <input {...getInputProps(\"days\")} />\n    </div>\n  );\n}\n```\n\n</details>\n\n<details>\n<summary><strong>Vue</strong></summary>\n\n[Edit on StackBlitz ‚ö°](https://stackblitz.com/edit/timescape-vue?file=src%2FApp.vue)\n\n```vue\n<template>\n  <div class=\"timescape\" :ref=\"registerRoot()\">\n    <input :ref=\"registerElement('years')\" />\n    <span>/</span>\n    <input :ref=\"registerElement('months')\" />\n    <span>/</span>\n    <input :ref=\"registerElement('days')\" />\n  </div>\n\n  <!-- Change any option -->\n  <button @click=\"options.date = new Date()\">Change date</button>\n</template>\n\n<script lang=\"ts\" setup>\nimport { type UseTimescapeOptions, useTimescape } from \"timescape/vue\";\nimport { watchEffect } from \"vue\";\n\nconst { registerElement, registerRoot, options } = useTimescape({\n  date: new Date(),\n});\n\nwatchEffect(() => {\n  console.log(\"Date changed to\", options.value.date);\n});\n</script>\n```\n\n</details>\n\n<details>\n<summary><strong>Svelte</strong></summary>\n\n[Edit on StackBlitz ‚ö°](https://stackblitz.com/edit/timescape-svelte?file=src%2FApp.svelte)\n\n```svelte\n<script lang=\"ts\">\nimport { derived } from \"svelte/store\";\nimport { createTimescape } from \"timescape/svelte\";\n\nconst { inputProps, rootProps, options } = createTimescape({\n  date: new Date(),\n});\n\nconst date = derived(options, ($o) => $o.date);\n\ndate.subscribe((nextDate) => {\n  console.log(\"Date changed to\", nextDate);\n});\n\n// To change any option:\n// options.update((prev) => ({ ...prev, date: new Date() }))\n</script>\n\n<div class=\"timescape\" use:rootProps>\n  <input use:inputProps={'days'} />\n  <span>/</span>\n  <input use:inputProps={'months'} />\n  <span>/</span>\n  <input use:inputProps={'years'} />\n</div>\n\n```\n\n</details>\n\n<details>\n<summary><strong>Solid</strong></summary>\n\n[Edit on StackBlitz ‚ö°](https://stackblitz.com/edit/timescape-solid?file=src%2FApp.tsx)\n\n```tsx\nimport { createEffect } from \"solid-js\";\nimport { useTimescape } from \"timescape/solid\";\n\nfunction App() {\n  const { getInputProps, getRootProps, options, update } = useTimescape({\n    date: new Date(),\n  });\n\n  createEffect(() => {\n    console.log(\"Date changed to\", options.date);\n  });\n\n  // To change any option:\n  // update('date', new Date())\n  // or update({ date: new Date() })\n\n  return (\n    <div class=\"timescape\" {...getRootProps()}>\n      <input {...getInputProps(\"years\")} />\n      <span>/</span>\n      <input {...getInputProps(\"months\")} />\n      <span>/</span>\n      <input {...getInputProps(\"days\")} />\n    </div>\n  );\n}\n```\n\n</details>\n\n<details>\n<summary><strong>Vanilla JS</strong></summary>\n\n```tsx\nimport { TimescapeManager } from \"timescape\";\n\nconst container = document.createElement(\"div\");\ndocument.body.appendChild(container);\n\ncontainer.innerHTML = ` \n  <div class=\"timescape\" id=\"timescape-root\">\n    <input data-type=\"days\" placeholder=\"dd\" />\n    <span>/</span>\n    <input data-type=\"months\" placeholder=\"mm\" />\n    <span>/</span>\n    <input data-type=\"years\" placeholder=\"yyyy\" />\n  </div>\n`;\n\nconst timeManager = new TimescapeManager();\n\ntimeManager.date = new Date();\n\ntimeManager.subscribe((nextDate) => {\n  console.log(\"Date changed to\", nextDate);\n});\n\ntimeManager.registerRoot(document.getElementById(\"timescape-root\")!);\n\ntimeManager.registerElement(\n  container.querySelector('[data-type=\"days\"]')!,\n  \"days\",\n);\ntimeManager.registerElement(\n  container.querySelector('[data-type=\"months\"]')!,\n  \"months\",\n);\ntimeManager.registerElement(\n  container.querySelector('[data-type=\"years\"]')!,\n  \"years\",\n);\n```\n\n</details>\n\n## Options\n\nThe options passed to `timescape` are the _initial values_. `timescape` returns the options either as store/signal or with an updater function (depending on the library you are using).\n\n```tsx\ntype Options = {\n  date?: Date;\n  minDate?: Date | $NOW; // see more about $NOW below\n  maxDate?: Date | $NOW;\n  hour12?: boolean;\n  wrapAround?: boolean;\n  digits?: \"numeric\" | \"2-digit\";\n  snapToStep?: boolean;\n  wheelControl?: boolean;\n  disallowPartial?: boolean\n};\n```\n\n| Option            | Default     | Description                                                                                                                                                                                                                                                                                                                                                      |\n| ----------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `date`            | `undefined` | The initial date. If not set, it will render the placeholders in their respective input fields (if set).                                                                                                                                                                                                                                                         |\n| `minDate`         | `undefined` | The minimum date that the user can select. `$NOW` is a special value that represents the current date and time. [See more below](#now-vavue)                                                                                                                                                                                                                     |\n| `maxDate`         | `undefined` | The maximum date that the user can select. `$NOW` is a special value that represents the current date and time. [See more below](#now-value)                                                                                                                                                                                                                     |\n| `hour12`          | `false`     | If set to `true`, the time input will use a 12-hour format (with AM/PM). If set to `false`, it will use a 24-hour format.                                                                                                                                                                                                                                        |\n| `digits`          | `'2-digit'` | Controls the display of the day and month in the date input. `'numeric'` displays as 1-12 for month and 1-31 for day, while `'2-digit'` displays as 01-12 for month and 01-31 for day. This follows [`Intl.DateTimeFormat`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat#day) convention. |\n| `wrapAround`      | `false`     | If set to `true`, the time input will wrap around from the end of one period (AM/PM or day) to the beginning of the next.                                                                                                                                                                                                                                        |\n| `snapToStep`      | `false`     | If set to `true`, the input value will snap to the nearest step when the user uses arrow keys to increment/decrement values. Can be further adjust by using the [`step` attribute](#step-on-input-elements)                                                                                                                                                      |\n| `wheelControl`    | `false`     | If set to `true`, the user can use the mouse wheel or touchpad to increment/decrement values.                                                                                                                                                                                                                                                                    |\n| `disallowPartial` | `false`     | If `true`, the input requires fully completed dates and times. By default partial dates are allowed, similar to native HTML input behavior.                                                                                                                                                                                                                      |\n\n### `$NOW` value\n\n`$NOW` is a convenience value you can use for `minDate` and `maxDate`. It represents the current date and time at the moment of the user's interaction, dynamically adjusting to always reflect the current datetime value. This means you don't need to manually update it, as it always keeps itself current.\n\n`$NOW` is exported as a constant for better type safety. By doing so, it eliminates the need for casting it `as const`, which would be required if `$NOW` were simply a string.\"\n\nIt can be imported from the package like so:\n\n```ts\nimport { $NOW } from \"timescape\";\n\n// or from a specific module\nimport { $NOW } from \"timescape/react\";\n\n// Svelte import names prohibit a $ prefix, so it's renamed to NOW there\nimport { NOW } from \"timescape/svelte\";\n```\n\n### `placeholder` on input elements\n\nThe `placeholder` attribute on the input elements is supported and will be used to display the placeholder text. Usually it's to indicate the expected format of the input, e.g. `yyyy/mm/dd`\n\n### `step` on input elements\n\nThe [`step` attribute for input elements](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/step) is supported and will be used to increment/decrement the values when the user uses the arrow keys. The default value is `1`, but you can set it to any value you want. Also see [`snapToStep`](#options) if you want to snap to the nearest step.\n\n### Preventing default `keydown` behavior\n\nBy default, timescape intercepts keydown events to enhance input behavior. If you want to handle keydown events yourself and prevent the default processing, you can do so by attaching your event handler during the capturing phase and calling `preventDefault`:\n\n```tsx\n<input\n  onKeyDownCapture={(e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault()\n    }\n  }}\n/>\n```\n\n## Ranges\n\n`timescape` supports ranges for the date/time inputs. This means a user can select a start and end. This is useful for things like booking systems, where you want to allow the user to select a range of dates.\n\nThis is achieved by using two `timescape` instances, one for the start and one for the end. You can set their options independently, and they return the respective options and update functions in the `from` and `to` objects.\n\nExample usage (this works similar for all supported libraries):\n\n```tsx\nimport { useTimescapeRange } from \"timescape/react\";\n// Use `createTimescapeRange` for Svelte\n\nconst { getRootProps, from, to } = useTimescapeRange({\n  from: { date: new Date(\"2000-01-01\") },\n  to: { date: new Date() },\n});\n\nreturn (\n  <div {...getRootProps()}>\n    <div>\n      <input {...from.getInputProps(\"days\")} />\n      <span>/</span>\n      <input {...from.getInputProps(\"months\")} />\n      <span>/</span>\n      <input {...from.getInputProps(\"years\")} />\n    </div>\n    <div>\n      <input {...to.getInputProps(\"days\")} />\n      <span>/</span>\n      <input {...to.getInputProps(\"months\")} />\n      <span>/</span>\n      <input {...to.getInputProps(\"years\")} />\n    </div>\n  </div>\n);\n```\n\n## Anatomy & styling\n\nThe component is designed to be as un-opinionated as possible, so it doesn't come with any styling out of the box. You can style it however you want, but here are some tips to get you started.\n\nThis is how it could look like:\n\n<img src=\"https://github.com/dan-lee/timescape/assets/571589/bac69b8c-e108-43db-8203-2dcbdb5030eb\" height=\"250\" />\n\nA typical anatomy of a timescape component may look like this:\n\n### HTML\n\n```html\n<div class=\"timescape\">\n  <!-- Date inputs -->\n  <input />\n  <span class=\"separator\">/</span>\n  <input />\n  <span class=\"separator\">/</span>\n  <input />\n\n  <span class=\"separator\">&nbsp;</span>\n\n  <!-- Time inputs -->\n  <input />\n  <span class=\"separator\">:</span>\n  <input />\n  <span class=\"separator\">:</span>\n  <input />\n</div>\n```\n\n### CSS\n\n```css\n/**\n * Root element\n */\n.timescape {\n  display: flex;\n  align-items: center;\n  gap: 1px;\n  width: fit-content;\n  border: 1px solid #b2b2b2;\n  padding: 5px;\n  user-select: none;\n  border-radius: 10px;\n}\n\n.timescape:focus-within {\n  outline: 1px solid #8f47d4;\n  border-color: #8f47d4;\n}\n\n/**\n * Date and time input elements\n */\n.timescape input {\n  /* This is an important style, as it ensures that the inputs have\n  the same width regardless of the number of characters they contain. */\n  font-variant-numeric: tabular-nums;\n  height: fit-content;\n  /* These are handled by the `:focus` selector */\n  border: none;\n  outline: none;\n  cursor: default;\n  user-select: none;\n  box-sizing: content-box;\n  /* For touch devices where input fields are not set to readonly */\n  caret-color: transparent;\n\n  /* For the calculation of the input width these are important */\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\n\n.timescape input:focus {\n  background-color: #8f47d4;\n  color: #fff;\n  border-radius: 6px;\n  padding: 2px;\n}\n\n/**\n * Separator elements\n */\n.timescape .separator {\n  font-size: 80%;\n  color: #8c8c8c;\n  margin: 0;\n}\n```\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3596, 19],
		[3603, 5],
		[3610, 14],
		[3617, 3],
		[3624, 33],
		[3631, 11],
		[3638, 81],
		[3645, 22],
		[3652, 10],
		[3659, 13],
		[3666, 23],
		[3673, 3],
		[3680, 174],
		[3687, 81],
		[3694, 181],
		[3701, 222],
		[3708, 365],
		[3715, 357],
		[3722, 353],
		[3729, 344],
		[3736, 334],
		[3743, 353],
		[3750, 377],
		[3757, 366],
		[3764, 286],
		[3771, 306],
		[3778, 262],
		[3785, 374],
		[3792, 262],
		[3799, 386],
		[3806, 641],
		[3813, 1046],
		[3820, 365],
		[3827, 374],
		[3834, 382],
		[3841, 516],
		[3848, 615],
		[3855, 531],
		[3862, 590],
		[3869, 371],
		[3876, 467],
		[3883, 574],
		[3890, 597],
		[3897, 905],
		[3904, 760],
		[3911, 769],
		[3918, 711],
		[3925, 1043],
		[3932, 1155],
		[3939, 658],
		[3946, 951],
		[3953, 1391],
		[3960, 1763],
		[3967, 1946],
		[3974, 2276],
		[3981, 1993],
		[3988, 2388],
		[3995, 2598],
		[4002, 2279],
		[4009, 1545],
		[4016, 1456],
		[4023, 2876],
		[4030, 2520],
		[4037, 2527],
		[4044, 2708],
		[4051, 3097],
		[4058, 3707],
		[4065, 4340],
		[4072, 4518],
		[4079, 4241],
		[4086, 4308],
		[4093, 4667],
		[4100, 4146],
		[4107, 4069],
		[4114, 4289],
		[4121, 4279],
		[4128, 4096],
		[4135, 3622]
	],
	"esm": true,
	"cjs": true
}
