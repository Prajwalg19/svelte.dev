{
	"name": "modalr",
	"description": "Create modal layers for Svelte applications.",
	"repo_url": "https://gitee.com/yuekcc/modalr",
	"authors": ["yuekcc"],
	"downloads": 4,
	"updated": "2021-06-20T03:07:00.385Z",
	"tags": ["ui"],
	"github_stars": 0,
	"homepage": "",
	"typescript": true,
	"version": "1.0.0",
	"svelte_range": "^3.38.2",
	"last_rune_check_version": "1.0.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "modalr",
				"version": "1.0.0",
				"size": 80504
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# modalr 一个模态层\r\n\r\n## 特性\r\n\r\n- 提供一个模态容器。\r\n- 使用绝对定位、flexbox 实现容器内的 html 可以水平、垂直居中。\r\n- 支持多弹出模态层。\r\n- 基于 [svelte](https://svelte.dev/)、[esbuild 工具](https://esbuild.github.io/)。\r\n- [iife][1] 方式打包，默认挂载到 `window.modalr`，可以和 jQuery 协同使用。\r\n- **不支持 IE 系列浏览器，也不会计划支持 IE 系列浏览器**。\r\n\r\n[1]: https://developer.mozilla.org/zh-CN/docs/Glossary/IIFE\r\n\r\n## API\r\n\r\n```javascript\r\nopts = {\r\n  // 允许点击空白处关闭弹出层\r\n  closeOnMark: true,\r\n\r\n  // 弹出层挂载点，默认是 document.body.\r\n  target: document.body,\r\n\r\n  // 弹出层关闭时回调钩子\r\n  onCloseCallback: function() {},  \r\n  // 弹出前钩子\r\n  before: function(){} \r\n}\r\n\r\nhtmlString = document.getElementById('some-id').innerHtml\r\n\r\n// 弹出层，内容为普通 HTML String，ID 为 modalr 的 handler ，动态生成。\r\n// 注意因为弹出层显示的内容是 Html String，如果业务上需要获取内容里某个值（例如表单的值），\r\n// 需要使用 document.getElementByClass 方式。弹出层是复制了 HTML 中内容，非引用方式。\r\n// 如果使用 jQuery，通过 `${id}-content-wrapper` 可以构造出弹出层的内容的 wrapper id。\r\n// 通过  $('wrapper-id > .some-class')，可以快速定位出需要的 HTML Element。\r\nconst id1 = modalr.show(htmlString, opts)\r\n\r\n// 弹出“加载中”，需要手动关闭\r\nconst id2 = modalr.loading();\r\n\r\n// 弹出“加载中”，1000ms 后自动关闭\r\nconst id3 = modalr.loading(1000);\r\n\r\n// 关闭指定层\r\nmodalr.close(id1);\r\n\r\n// 关闭所有\r\nmodalr.closeAll();\r\n\r\n// 关闭最后一个弹出层\r\nmodalr.closeLatest();\r\n\r\n```\r\n\r\n## 构建\r\n\r\n以下在 `node.js` v16 版本下测试通过。\r\n\r\n```shell\r\n$ npm install\r\n$ npm run build # 打包生产环境版本\r\n$ npm run dev # 开发环境\r\n```\r\n\r\n## 用例\r\n\r\n见 [demo.html](demo.html)。\r\n\r\n## 更新记录\r\n\r\n- 2021.06.19\r\n  - 更新构建脚本\r\n  - 使用 typescript 重写入口代码\r\n  - 增加 types\r\n  - 更新 package.json 配置，完善 bundler 支持\r\n\r\n- 2021.06.18\r\n  - iife 入口改为 iife-wrapper.js；esm 模块入口改为 esm-wrapper.js\r\n  - 修复部分场景下不能删除 dialogId 的问题\r\n  - 增加 eslint 配置\r\n\r\n- 2021.06.10\r\n  - 升级依赖\r\n  - 构建工具改为 esbuild，极速构建\r\n  - 传入的 DOM 节点会尝试调用 `el.cloneNode(true)` 复制一份用于弹窗\r\n  - 因为 esbuild 的限制，不再输出 umd 格式，改为 iife 格式。默认挂载到 `window.modalr`\r\n\r\n- 2019.10.26\r\n  - 升级依赖\r\n  - 构建脚本统一放置到 scripts 目录\r\n  - 增加开发服务器，运行 npm run dev-server 启动\r\n\r\n- 2019.8.18\r\n   - 升级依赖\r\n   - 调整目录、文件\r\n   - package.json 增加 main、module 入口\r\n\r\n- 2019.6.24\r\n\r\n  - 升级依赖\r\n  - 开放 before 钩子\r\n\r\n- 2019.4.30\r\n\r\n  - rollup 升级到 rollup 1.10.1。\r\n  - svelte 升级到 3.1.0。\r\n  - 按 svelte 3 重写相应的组件。\r\n  - 增加 modalr.closeLatest() 方法，关闭最后一个弹窗。\r\n\r\n- 2018.9.6\r\n\r\n  - 可以弹出模态层。z-index 按 10000 起计算。\r\n  - 可以弹出 loading 提示。\r\n\r\n- 2018.9.15\r\n\r\n  - 调用模态层 ID 号生成方法，减少重复的可能。\r\n  - 可以正确处理多模态层时关闭事件，现在可以逐层关闭。\r\n  - 更新示例。\r\n\r\n- 2018.10.16\r\n\r\n  - 更新构建脚本。\r\n  - javascript 转换器改为 babel。\r\n\r\n- 2018.11.2\r\n\r\n  - 增加 before 钩子。\r\n  - 增加弹出层内容外层 ID，格式：\\${id}-content-wrapper。\r\n  - 更新示例。\r\n\r\n## 协议\r\n\r\n[MIT LICENSE](LICENSE)\r\n",
	"legacy_svelte": true,
	"downloads_history": [
		[3589, 1],
		[3596, 4],
		[3603, 1],
		[3624, 1],
		[3645, 4],
		[3666, 2],
		[3673, 1],
		[3694, 1],
		[3701, 1],
		[3708, 1],
		[3715, 1],
		[3722, 1],
		[3729, 1],
		[3743, 2],
		[3750, 1],
		[3764, 2],
		[3771, 4],
		[3778, 1],
		[3792, 1],
		[3799, 1],
		[3806, 1],
		[3813, 2],
		[3820, 2],
		[3841, 1],
		[3848, 1],
		[3855, 5],
		[3869, 1],
		[3890, 1],
		[3897, 1],
		[3918, 1],
		[3925, 1],
		[3946, 2],
		[3974, 1],
		[3995, 1],
		[4002, 2],
		[4016, 3],
		[4030, 2],
		[4037, 3],
		[4044, 5],
		[4051, 1],
		[4058, 1],
		[4065, 1],
		[4093, 5],
		[4100, 3],
		[4114, 4],
		[4121, 5],
		[4128, 3]
	]
}
