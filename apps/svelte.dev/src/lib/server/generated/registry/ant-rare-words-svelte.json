{
	"name": "ant-rare-words-svelte",
	"description": "Provide rare character input component for Svelte.",
	"repo_url": "https://github.com/alipay/Z-RareCharacterSolution",
	"authors": ["andyliwr"],
	"homepage": "https://github.com/alipay/Z-RareCharacterSolution#readme",
	"downloads": 5,
	"updated": "2023-11-06T03:16:54.936Z",
	"tags": ["ui"],
	"github_stars": 49,
	"typescript": false,
	"version": "0.0.1",
	"svelte_range": "^3.5.0",
	"last_rune_check_version": "0.0.1",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "ant-rare-words-svelte",
				"version": "0.0.1",
				"size": 1262455
			},
			{
				"name": "ant-rare-words-utils",
				"version": "0.0.10",
				"size": 2648257
			},
			{
				"name": "lodash",
				"version": "4.17.21",
				"size": 1412415
			}
		],
		"dependencies": [
			[0, 1],
			[0, 2]
		],
		"circular": []
	},
	"legacy_svelte": false,
	"readme": "# ant-rare-words-svelte\n\n[![NPM version](https://img.shields.io/npm/v/ant-rare-words-svelte.svg?style=flat)](https://npmjs.org/package/ant-rare-words-svelte)\n[![NPM downloads](http://img.shields.io/npm/dm/ant-rare-words-svelte.svg?style=flat)](https://npmjs.org/package/ant-rare-words-svelte)\n\n生僻字输入组件 React 版\n\n## 参数\n\n| 参数            | 类型                                  | 说明                                                                             |\n| --------------- | ------------------------------------- | -------------------------------------------------------------------------------- |\n| visible         | boolean                               | 是否可见                                                                         |\n| type            | string                                | 键盘类型, pinyin（拼音）、stroke（笔画）、handwriting（手写），目前只支持 pinyin |\n| stopPropagation | string[]                              | 阻止某些事件的冒泡，默认阻止 click 事件                                          |\n| destroyOnClose  | boolean                               | 组件不可见时卸载内容                                                             |\n| forceRender     | boolean                               | 无论组件是隐藏或者显示，都会强制性的将组件渲染到 DOM 中                          |\n| showMask        | boolean                               | 是否展示蒙层，默认展示                                                           |\n| onClose         | () => void                            | 关闭的时候触发的回调                                                             |\n| onFinish        | (value: string, word: object) => void | 输入完成的时候触发的回调                                                         |\n| onError         | (err) => void                         | 组件调用失败的时候的回调                                                         |\n| onReady         | (fontUrl, fontFace) => void           | 组件准备好的时候的回调                                                           |\n\n## 用法\n\n### 在vue项目里的用法\n\n1. 安装工具包\n\n```bash\nnpm install ant-rare-words-svelte --save\n```\n\n2. 创建一个vue组件 RareWordsInput.vue\n\n```html\n<template>\n  <div ref=\"input\"></div>\n</template>\n\n<script>\nimport { RareWordsInput } from 'ant-rare-words-svelte';\nimport 'ant-rare-words-svelte/dist/index.css';\n\nexport default {\n  props: {\n    visible: {\n      type: Boolean,\n      required: false,\n    },\n    type: {\n      type: String,\n      required: false,\n      default: 'pinyin',\n    },\n    closeOnMaskClick: {\n      type: Boolean,\n      default: true,\n    },\n    onFinish: {\n      type: Object,\n      default: (word) => {},\n    },\n    onReady: {\n      type: Object,\n      default: (fontUrl, fontFace) => {},\n    },\n    onShow: {\n      type: Object,\n      default: () => {},\n    },\n    onClose: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  watch: {\n    visible(newValue) {\n      if (newValue) {\n        this.instance = new RareWordsInput({\n          target: this.$refs.input,\n          props: {\n            visible: this.visible,\n            type: this.type,\n            closeOnMaskClick: this.closeOnMaskClick,\n            onFinish: this.onFinish,\n            onReady: this.onReady,\n            onShow: this.onShow,\n            onClose: this.onClose,\n          },\n        });\n      } else {\n        this.instance.$destroy();\n      }\n    },\n  },\n};\n</script>\n```\n\n3. 在vue的页面中引用这个组件\n\n```html\n<script lang=\"ts\">\nimport RareWordsInput from './components/RareWordsInput.vue';\n\nexport default {\n  components: {\n    RareWordsInput\n  },\n\n  data() {\n    return {\n      visible: false,\n    };\n  },\n\n  methods: {\n    handleClick() {\n      this.visible = true;\n    },\n\n    handleClose() {\n      this.visible = false;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <RareWordsInput :visible=\"visible\" :onClose=\"handleClose\" />\n    <button @click=\"handleClick\">打开</button>\n  </div>\n</template>\n```\n\n### CDN 方式引用\n\n在一些没有使用 webpack 此类打包工具的业务中，无法做到使用 npm 包，可以在 html 内通过引入 cdn script 链接的方式加载生僻字键盘组件。\n\n\n示例代码：\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <script src=\"https://cdn.bootcdn.net/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js\" crossorigin></script>\n  </head>\n  <body>\n    <div class=\"content\">\n      <input id=\"input\" class=\"input\" type=\"text\" placeholder=\"请输入姓名\" />\n      <button id=\"open-input-btn\" class=\"btn\">输入生僻字</button>\n    </div>\n    <script type=\"text/javascript\">\n      const inputBtnEle = document.getElementById('open-input-btn');\n      const inputEle = document.getElementById('input');\n      inputBtnEle.addEventListener('click', function () {\n        const { Input } = window.RareWordsSvelte;\n        const input = new Input({\n          target: document.body,\n          props: {\n            visible: true,\n            onFinish: function (word) {\n              inputEle.value = inputEle.value + word;\n            },\n            onReady: function () {\n              const curBodyFontAttr = getComputedStyle(inputEle).fontFamily;\n              inputEle.style.fontFamily = `${curBodyFontAttr}, \"rare-words-font\"`;\n            }\n          },\n          intro: true,\n        });\n      });\n\n      inputEle.addEventListener('input', function (event) {\n        const inputValue = event.target.value;\n        inputEle.value = inputValue;\n      });\n    </script>\n  </body>\n</html>\n```\n\n> 如果 unpkg.com 被墙了，可以替换成 npm.elemecdn.com 的国内镜像，使用地址 https://npm.elemecdn.com/ant-rare-words-svelte/dist/index.umd.js\n>\n> 如果不希望跟随版本更新，可以限制引入 cdn 时的版本，使用地址 https://unpkg.com/ant-rare-words-svelte@0.0.1/dist/ant-rare-words-svelte.min.js\n\n## 开发\n\n```bash\n# 安装依赖\n$ npm install\n\n# 启动demo\n$ npm start\n\n# 构建产物\n$ npm run build\n\n# 观察模式构建差五\n$ npm run build:watch\n\n# 构建演示文档\n$ npm run docs:build\n\n# 检查代码\n$ npm run doctor\n```\n\n## LICENSE\n\nMIT\n",
	"downloads_history": [
		[3589, 14],
		[3596, 109],
		[3603, 4],
		[3610, 4],
		[3617, 4],
		[3624, 2],
		[3638, 3],
		[3645, 6],
		[3652, 7],
		[3659, 7],
		[3666, 8],
		[3673, 3],
		[3694, 1],
		[3708, 1],
		[3715, 2],
		[3722, 3],
		[3729, 1],
		[3743, 1],
		[3757, 1],
		[3771, 3],
		[3778, 8],
		[3785, 1],
		[3792, 6],
		[3806, 1],
		[3813, 3],
		[3820, 1],
		[3834, 3],
		[3841, 11],
		[3862, 3],
		[3869, 1],
		[3883, 1],
		[3890, 3],
		[3897, 4],
		[3904, 3],
		[3911, 4],
		[3918, 1],
		[3925, 1],
		[3932, 5],
		[3946, 2],
		[3953, 2],
		[3967, 1],
		[3995, 1],
		[4002, 1],
		[4023, 1],
		[4030, 6],
		[4037, 5],
		[4044, 6],
		[4051, 4],
		[4058, 1],
		[4072, 1],
		[4093, 4],
		[4100, 6],
		[4114, 5],
		[4121, 12],
		[4128, 2]
	],
	"esm": false,
	"cjs": true
}
