{
	"name": "@efstajas/svelte-stored-writable",
	"description": "Store and restore data from localstorage automatically.",
	"repo_url": "https://github.com/efstajas/svelte-stored-writable",
	"authors": ["efstajas"],
	"homepage": "https://github.com/efstajas/svelte-stored-writable#readme",
	"downloads": 134,
	"updated": "2024-09-24T10:38:21.548Z",
	"tags": ["miscellaneous"],
	"github_stars": 45,
	"typescript": true,
	"version": "0.3.0",
	"svelte_range": "^4.2.19",
	"last_rune_check_version": "0.3.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@efstajas/svelte-stored-writable",
				"version": "0.3.0",
				"size": 22411
			},
			{
				"name": "svelte",
				"version": "4.2.19",
				"size": 2633608
			},
			{
				"name": "acorn",
				"version": "8.14.1",
				"size": 547473
			},
			{
				"name": "code-red",
				"version": "1.0.4",
				"size": 55185
			},
			{
				"name": "@jridgewell/sourcemap-codec",
				"version": "1.5.0",
				"size": 112815
			},
			{
				"name": "@types/estree",
				"version": "1.0.7",
				"size": 26147
			},
			{
				"name": "estree-walker",
				"version": "3.0.3",
				"size": 17599
			},
			{
				"name": "periscopic",
				"version": "3.1.0",
				"size": 11219
			},
			{
				"name": "is-reference",
				"version": "3.0.3",
				"size": 3953
			},
			{
				"name": "css-tree",
				"version": "2.3.1",
				"size": 1190591
			},
			{
				"name": "mdn-data",
				"version": "2.0.30",
				"size": 602138
			},
			{
				"name": "source-map-js",
				"version": "1.2.1",
				"size": 139872
			},
			{
				"name": "aria-query",
				"version": "5.3.2",
				"size": 176114
			},
			{
				"name": "magic-string",
				"version": "0.30.17",
				"size": 467464
			},
			{
				"name": "axobject-query",
				"version": "4.1.0",
				"size": 110878
			},
			{
				"name": "locate-character",
				"version": "3.0.0",
				"size": 5325
			},
			{
				"name": "@ampproject/remapping",
				"version": "2.3.0",
				"size": 78946
			},
			{
				"name": "@jridgewell/gen-mapping",
				"version": "0.3.8",
				"size": 81596
			},
			{
				"name": "@jridgewell/set-array",
				"version": "1.2.1",
				"size": 17945
			},
			{
				"name": "@jridgewell/trace-mapping",
				"version": "0.3.25",
				"size": 169330
			},
			{
				"name": "@jridgewell/resolve-uri",
				"version": "3.1.2",
				"size": 53153
			},
			{
				"name": "zod",
				"version": "3.24.3",
				"size": 697771
			}
		],
		"dependencies": [
			[0, 1],
			[1, 2],
			[1, 3],
			[3, 4],
			[3, 5],
			[3, 2],
			[3, 6],
			[6, 5],
			[3, 7],
			[7, 5],
			[7, 6],
			[7, 8],
			[8, 5],
			[1, 9],
			[9, 10],
			[9, 11],
			[1, 12],
			[1, 7],
			[1, 8],
			[1, 13],
			[13, 4],
			[1, 5],
			[1, 6],
			[1, 14],
			[1, 15],
			[1, 16],
			[16, 17],
			[17, 18],
			[17, 4],
			[17, 19],
			[19, 20],
			[19, 4],
			[16, 19],
			[1, 19],
			[1, 4],
			[0, 21]
		],
		"circular": []
	},
	"legacy_svelte": false,
	"readme": "# 💾 Svelte Stored Writable\n\nA drop-in extension of Svelte's `writable` that additionally stores and restores its contents using localStorage. Perfect for saving local preferences and much more. Fully type-safe.\n\n## ⬇️ Installation\n\nInstall with NPM or yarn. We're also installing `zod` to be able to define the writable's schema (more on this below).\n\n```bash\nnpm install @efstajas/svelte-stored-writable zod\n\n# OR\n\nyarn add @efstajas/svelte-stored-writable zod\n```\n\n## 🤓 Usage\n\n### Creating a new storedWritable\n\nTo generate a new storedWritable, call it with a `key`, `schema` and `initialValue`:\n\n```ts\nimport storedWritable from '@efstajas/svelte-stored-writable';\nimport { z } from 'zod';\n\nconst myWritableSchema = z.object({\n  foo: z.string(),\n  bar: z.number(),\n});\n\nconst myStoredWritable = storedWritable('my-writable-key', myWritableSchema, { foo: 'hello', bar: 1234 });\n```\n\n#### `key`\n\nThe first argument, `key`, simply defines the localStorage `key` that this writable should use. Usually, you want to keep this unique between storedWritables (and other mechanisms writing to localStorage in your application) to avoid interference.\n\n#### `schema`\n\nThe `schema` argument receives a `zod` schema definition. This schema is used both to infer the writable's type for Typescript, and also to validate localStorage contents at runtime. Using the zod schema, we can ensure that the writable's contents always match the expected type definition, even if localStorage has been meddled with for some reason. This means that if you call `storedWritable` and it finds a previous value in localStorage that doesn't match the expected schema, it will throw a Zod Parse Error.\n\n#### `initialValue`\n\nWhen calling `storedWritable`, it will first attempt to restore any previously-saved content from localStorage. If it doesn't find any, it will fall back to `initialValue`. Note that writable content is only saved to localStorage on a call to `.set` or `.update`.\n\n#### Optional: `skipLocalStorage`\n\nPass `true` as the last argument to disable all interaction with localStorage. This will cause the writable to *not* attempt to restore contents from localStorage, or write any changes. You might want to set this to `true` in an SSR context, for instance, where the server has no access to `localStorage`.\n\nTip: If you're using SvelteKit, you can pass `!browser` as the last argument to automatically skip localStorage interactions while rendering server-side.\n\n### Reading from and writing to the storedWritable\n\nYou can interact with a `storedWritable` in the exact same way as a normal `writable`.\nAdditionally, you can call `storedWritable.clear` to delete any saved data in localStorage, and reset it back to `initialValues`.\n\n```ts\n// ...\n\nconst myStoredWritable = storedWritable('my-writable-key', myWritableSchema, { foo: 'hello', bar: 1234 });\n\nconst { foo, bar } = get(myStoredWritable); // foo: 'hello', bar: 1234\n\nmyStoredWritable.set({ foo: 'goodbye', bar: 1234 }); // Saves new values to localStorage\nconst { foo, bar } = get(myStoredWritable); // foo: 'goodbye', bar: 1234\n\nmyStoredWritable.update((v) => ({ ...v, bar: v.bar + 1 })); // Saves new values to localStorage\nconst { foo, bar } = get(myStoredWritable); // foo: 'goodbye', bar: 1235\n\nmyStoredWritable.clear(); // Deletes any saved data in localStorage\nconst { foo, bar } = get(myStoredWritable); // foo: 'hello', bar: 1234\n```\n\nWithin a Svelte component, you can also use the usual `$writable` syntax to conveniently subscribe to changes of a `storedWritable`.\n\n### Setting a custom writable type\n\nIf you want to use a custom TypeScript type for the storedWritable, you can pass an optional type parameter. When setting a type parameter,\nyour `schema` parameter must match the supplied type.\n\n```ts\n\nimport storedWritable from '@efstajas/svelte-stored-writable';\nimport { z } from 'zod';\n\ninterface MyWritableType {\n  foo: string;\n  bar: number;\n}\n\nconst myWritableSchema = z.object({\n  foo: z.string(),\n  bar: z.number(),\n});\n\n// myStoredWritable is typed as Writable<MyWritableType>. `myWritableSchema` must match `MyWritableType`.\nconst myStoredWritable = storedWritable<MyWritableType>('my-writable-key', myWritableSchema, { foo: 'hello', bar: 1234 });\n```\n\n### Synchronizing values between tabs\n\nThe storedWritable automatically uses [`storageEvent`](https://developer.mozilla.org/en-US/docs/Web/API/Window/storage_event) to keep changes to its localStorage key triggered from other tabs or windows synchronized.\n",
	"downloads_history": [
		[3589, 20],
		[3596, 72],
		[3603, 75],
		[3610, 66],
		[3617, 21],
		[3624, 33],
		[3631, 26],
		[3638, 24],
		[3645, 2],
		[3652, 62],
		[3659, 64],
		[3666, 62],
		[3673, 58],
		[3680, 205],
		[3687, 321],
		[3694, 386],
		[3701, 305],
		[3708, 366],
		[3715, 518],
		[3722, 378],
		[3729, 676],
		[3736, 470],
		[3743, 319],
		[3750, 44],
		[3757, 216],
		[3764, 174],
		[3771, 188],
		[3778, 319],
		[3785, 285],
		[3792, 262],
		[3799, 213],
		[3806, 236],
		[3813, 206],
		[3820, 358],
		[3827, 371],
		[3834, 336],
		[3841, 422],
		[3848, 313],
		[3855, 437],
		[3862, 348],
		[3869, 301],
		[3876, 96],
		[3883, 188],
		[3890, 159],
		[3897, 124],
		[3904, 124],
		[3911, 92],
		[3918, 225],
		[3925, 135],
		[3932, 84],
		[3939, 195],
		[3946, 166],
		[3953, 150],
		[3960, 141],
		[3967, 70],
		[3974, 137],
		[3981, 172],
		[3988, 182],
		[3995, 61],
		[4002, 74],
		[4009, 18],
		[4016, 33],
		[4023, 53],
		[4030, 132],
		[4037, 292],
		[4044, 201],
		[4051, 231],
		[4058, 136],
		[4065, 180],
		[4072, 31],
		[4079, 197],
		[4086, 165],
		[4093, 184],
		[4100, 166],
		[4107, 115],
		[4114, 134],
		[4121, 83],
		[4128, 196]
	],
	"esm": true,
	"cjs": false
}
