{
	"name": "svelte-entity-store",
	"description": "Offer a normalized entity store for Svelte projects.",
	"repo_url": "https://github.com/tony-sull/svelte-entity-store",
	"authors": ["tony-sull"],
	"homepage": "https://github.com/tony-sull/svelte-entity-store#readme",
	"downloads": 5,
	"updated": "2021-05-07T16:23:08.715Z",
	"tags": ["miscellaneous"],
	"github_stars": 29,
	"typescript": true,
	"version": "1.0.3",
	"svelte_range": "^3.37.0",
	"last_rune_check_version": "1.0.3",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "svelte-entity-store",
				"version": "1.0.3",
				"size": 42553
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "<div align=\"center\">\n  <a href=\"https://npmjs.org/package/svelte-entity-store\">\n    <img src=\"https://badgen.now.sh/npm/v/svelte-entity-store\" alt=\"version\" />\n  </a>\n  <a href=\"https://github.com/tony-sull/svelte-entity-store/actions\">\n    <img src=\"https://github.com/tony-sull/svelte-entity-store/workflows/CI/badge.svg\" alt=\"CI\" />\n  </a>\n  <a href=\"https://codecov.io/gh/tony-sull/svelte-entity-store\">\n    <img src=\"https://codecov.io/gh/tony-sull/svelte-entity-store/branch/main/graph/badge.svg\" alt=\"codecov\">\n  </a>\n</div>\n\n# Svelte Entity Store\n\nA (**w**ork-**i**n-**p**rogress) generic entity store for Svelte projects.\n\nCheck out the [full docs](https://tony-sull.github.io/svelte-entity-store/) for details.\n\n## Why?\n\nThis is ultimately just a [custom store](https://svelte.dev/examples#custom-stores) built on top of [svelte/store](https://svelte.dev/docs#svelte_store). Like the rest of Svelte, the built in stores are excellent building blocks that aim to give you all the tools you need without trying to solve every single scenario out of the box.\n\nThe goal with `svelte-entity-store` is to provide a simple, generic solution for storing collections of entity objects. Throwing an array of items into a basic `writeble` store doesn't scale well if you have a lot of items and need to quickly find or update one item in the store.\n\n## Install\n\n```\nnpm i -s svelte-entity-store\n```\n\n## Usage\n\n> Check out ['/examples'](/examples) for a working TodoMVC demo based on SvelteKit.  More to come!\n\n```ts\n<script lang=\"ts\">\n  import { entityStore } from 'svelte-entity-store'\n\n  // Define your entity interface\n  interface TodoItem {\n    id: string\n    description: string\n    completed: boolean\n  }\n\n  // Write a getter function that returns the ID of an entity (can be inlined in the constructor also)\n  // Currently number and string values are valid IDs\n  const getId = (todo: TodoItem) => todo.id\n\n  // Initialize the store\n  // (optional) the constructor accepts an Array as a second param\n  //            ex: if you rehydrate state from localstorage \n  const store = entityStore<TodoItem>(getId)\n\n  // Get a derived store for every active todo\n  const activeTodos = store.get((todo) => todo.completed)\n\n  // toggle a todo\n  function toggle(id: string) {\n    store.update((todo) => ({ ...todo, completed: !todo.completed }), id)\n  }\n\n  // clear completed todos\n  function clearCompleted() {\n    store.remove((todo) => todo.completed)\n  }\n</script>\n\n{#each $activeTodos as todo (todo.id) }\n  // ... render your UI as usual\n{/each}\n```\n\n## API\n\n### entityStore.get\n\nGets a [derived store](https://svelte.dev/docs#derived) to subscribe to one or more entity in the store.\n\nBe careful with how many derived stores you create. It's best to use `entityStore.get` at the page or view level and pass state down to *dumb* components.\n\ni.e. If the TodoMVC app has 10,000 todos in it and each list item is a separate component calling `entityStore.get(id)` the performance and memory use will be a nightmare.  Just don't do it.  You've been warned!\n\n#### get()\n\nGets an array with every entity in the store.\n\n#### get(id: ID)\n\nGets the entity by ID, or undefined if it isn't found.\n\n#### get(ids: ID[])\n\nGets an array of specific entities by ID.  IDs will be ignored if they aren't found in the store - the array of entities returned may not be the same length as the `ids` array provided.\n\n#### get(pred: Predicate<T>)\n\nGets every entity that matches the predicate - the equivalent of `Array.prototype.filter()`\n\n### entityStore.remove\n\nRemoves one or more entities from the store.\n\n#### remove(id: ID)\n\nRemoves a specific entity by ID, if it exists\n\n#### remove(ids: ID[])\n\nRemoves one or more entity by ID\n\n#### remove(pred: Predicate<T>)\n\nRemoves every entity that matches the predicate.  Note that this removes an entity if the predicate returns **true**!\n\n### reset\n\nRemoves all entities, resetting the entity store to it's original default state\n\n### entityStore.set\n\nAdds or replaces entities in the store.  Note that `set` will override any old state of an entity if it already existed in the store.  Use `entityStore.update` if you want to modify the entity instead.\n\n#### set(entity: T)\n\nAdds entity to the store, or replaces the old state if it already exists.\n\n#### set(entities: T[])\n\nWorks just like `set(entity: T)`, but for each item in the array.  This is useful when you ened to update more than one entity and don't want to trigger subscribers until all entities are added.\n\n### entityStore.subscribe\n\nThe `subscribe` method for the entire store, see [Svelte's docs](https://svelte.dev/docs#svelte_store) for more details on the subscribe API.\n\nYou really shouldn't need to use this subscribe method unless you're tying the entire store into `devtools` or logging.\n\n### entityStore.update\n\nUpdates one or more entity in the store.\n\nThis follows the same basic design as [writable stores](https://svelte.dev/examples#writable-stores) - rather than providing the new entity state you give a callback function that will be given the old entity and returns the new, updated entity.\n\n#### update(updater: (entity:T ) => T)\n\nRuns every entity in the store through the `updater` callback.  Check out the ('/examples/todomvc')[/examples/todomvc] project, this is used for the \"toggle all todos\" feature.\n\n#### update(updater: (entity: T) => T, id: ID)\n\nRuns a specific entity through the updater callback.  `updater` will never be called if the entity isn't found in the store.\n\n#### update(updater: (entity: T) => T, ids: ID[])\n\nRuns multiple entities through the updater function.  This is useful when you ened to update more than one entity and don't want to trigger subscribers until all entities are updated.\n\n#### update(updater: (entity: T) => T, entity: T)\n\nConvenience override in case your code is already using the entire entity, avoids having to do something like `update(toggle, todo.id)`.\n\n#### update(updater: (entity: T) => T, entities: T[])\n\nWorks just like `update(updater, entities: T[])`, but for each item in the array.  This is useful when you ened to update more than one entity and don't want to trigger subscribers until all entities are added.\n\n#### update(updater: (entity: T) => T, pred: Predicate<T>)\n\nRuns every entity that matches the predicate through the `updater` callback.  The predicate works just like `Array.prototype.filter`, every entity is run through the predicate and if it returns **true** the entity is updated.\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3589, 5],
		[3596, 8],
		[3603, 8],
		[3610, 11],
		[3617, 6],
		[3624, 5],
		[3631, 2],
		[3638, 4],
		[3645, 7],
		[3652, 3],
		[3659, 4],
		[3666, 6],
		[3673, 11],
		[3680, 1],
		[3687, 3],
		[3694, 6],
		[3701, 4],
		[3708, 3],
		[3715, 6],
		[3722, 11],
		[3729, 15],
		[3736, 6],
		[3743, 3],
		[3750, 4],
		[3757, 3],
		[3764, 9],
		[3771, 4],
		[3778, 4],
		[3785, 2],
		[3792, 5],
		[3799, 3],
		[3806, 4],
		[3813, 7],
		[3820, 7],
		[3827, 3],
		[3834, 2],
		[3841, 3],
		[3848, 4],
		[3855, 26],
		[3862, 8],
		[3869, 3],
		[3876, 5],
		[3883, 3],
		[3890, 8],
		[3897, 11],
		[3904, 9],
		[3911, 5],
		[3918, 2],
		[3925, 2],
		[3932, 1],
		[3939, 7],
		[3946, 5],
		[3953, 4],
		[3960, 4],
		[3967, 3],
		[3981, 2],
		[3988, 4],
		[3995, 7],
		[4002, 7],
		[4009, 4],
		[4016, 6],
		[4023, 4],
		[4030, 6],
		[4037, 16],
		[4044, 17],
		[4051, 6],
		[4058, 1],
		[4065, 3],
		[4072, 1],
		[4086, 1],
		[4100, 14],
		[4107, 4],
		[4114, 5],
		[4121, 6],
		[4128, 7]
	]
}
