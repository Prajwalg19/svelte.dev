{
	"name": "@apsc/floating-ui-action",
	"description": "Use Floating UI actions with Svelte directives.",
	"repo_url": "https://github.com/andrey-pavlenko/svelte-components",
	"authors": ["andrey-pavlenko"],
	"homepage": "https://github.com/andrey-pavlenko/svelte-components/tree/main/packages/floating-ui-action#readme",
	"downloads": 6,
	"updated": "2023-02-03T18:07:27.226Z",
	"tags": ["ui", "miscellaneous"],
	"github_stars": 3,
	"typescript": true,
	"version": "0.0.6",
	"svelte_range": "^3.30.0",
	"last_rune_check_version": "0.0.6",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@apsc/floating-ui-action",
				"version": "0.0.6",
				"size": 9940
			},
			{
				"name": "@floating-ui/dom",
				"version": "1.7.0",
				"size": 166707
			},
			{
				"name": "@floating-ui/core",
				"version": "1.7.0",
				"size": 214929
			},
			{
				"name": "@floating-ui/utils",
				"version": "0.2.9",
				"size": 64926
			}
		],
		"dependencies": [
			[0, 1],
			[1, 2],
			[2, 3],
			[1, 3]
		],
		"circular": []
	},
	"legacy_svelte": false,
	"readme": "# [Floating UI](https://floating-ui.com/) action for `use` Svelte directive\n\n- allows you to use both Svelte transitions and CSS transitions\n- dependence [@floating-ui/dom](https://github.com/floating-ui/floating-ui)\n\n### [Docs & Demo](https://andrey-pavlenko.github.io/svelte-components/?c=floating-ui-action)\n\n## Install\n\n### NPM\n\n```sh\nnpm i -D @apsc/floating-ui-action\n```\n\n### PNPM\n\n```sh\npnpm add -D @apsc/floating-ui-action\n```\n\n## API\n\n```ts\nfunction createFloatingUiAction(\n  options: UpdateOptions\n): [Action, Action, (options: UpdateOptions) => void];\n\n// Example\nconst [useReference, useFloat, setAutoupdate] = createAction(true);\n```\n\nCreates actions for use in directive `use`. Returns an array of three functions `useReference`, `useFloating` and `setAutoupdate`.\n\nParameter `options` can take values\n\n- `true` -- `autoUpdate` will be enabled with default options\n- `object` -- `autoUpdate` will be enabled with the specified options\n- `false` -- `autoUpdate` will be disabled\n\nSee [`autoUpdate`](https://floating-ui.com/docs/autoUpdate)\n\nUse actions `useReference` and `useFloat` in directive `use` on target elements.\n\n```svelte\n<button on:click={() => (show = !show)} use:useReference>Click me</button>\n{#if show}\n<div use:useFloat2={{\n  placement: 'bottom',\n  middleware: [offset(8), flip(), shift({ padding: 8 }), arrow({ element: arrow })],\n  callback: positionFloat\n}}\ntransition:scale|local>My tooltip</div>\n{/if}\n```\n\nAction `useFloating` takes options as a function [`computePosition`](https://floating-ui.com/docs/computePosition)\nwith optional `callback` for custom element control, e.g. an arrow.\n\n`setAutoupdate` allows disable, enable or change the [`autoUpdate`](https://floating-ui.com/docs/autoUpdate) settings at any time.\n\n## Usage\n\n```svelte\n<script>\n  import { scale } from 'svelte/transition';\n    import {\n    arrow,\n    flip,\n    offset,\n    type ComputePositionReturn,\n    type Middleware\n  } from '@floating-ui/dom';\n  import createFloating from '@apsc/floating-ui-action';\n\n  let show = false;\n  let _arrow: HTMLElement;\n\n  function adjustArrow(pos: ComputePositionReturn) {\n    const { placement, middlewareData } = pos;\n    if (middlewareData.arrow) {\n      const { x, y } = middlewareData.arrow;\n      const staticSide = {\n        top: 'bottom',\n        right: 'left',\n        bottom: 'top',\n        left: 'right'\n      }[placement.split('-')[0]];\n      if (staticSide) {\n        Object.assign(_arrow.style, {\n          left: x != null ? `${x}px` : '',\n          top: y != null ? `${y}px` : '',\n          right: '',\n          bottom: '',\n          [staticSide]: '-6px'\n        });\n      }\n    }\n  }\n</script>\n\n<button on:click={() => (show = !show)} use:useReference>Click me</button>\n{#if show}\n  <div\n    use:useFloating={{\n      placement: 'top',\n      middleware: [offset(8), flip(), arrow({ element: _arrow })],\n      callback: adjustArrow\n    }}\n    transition:slide|local\n  >\n    <div bind:this={_arrow} />\n    Lorem ipsum dolor sit amet consectetur adipisicing elit\n  </div>\n{/if}\n```\n",
	"downloads_history": [
		[3589, 1],
		[3596, 7],
		[3603, 3],
		[3617, 1],
		[3631, 1],
		[3645, 8],
		[3659, 5],
		[3666, 7],
		[3687, 2],
		[3694, 1],
		[3701, 1],
		[3708, 1],
		[3715, 2],
		[3729, 1],
		[3743, 1],
		[3757, 1],
		[3764, 1],
		[3771, 6],
		[3778, 2],
		[3792, 2],
		[3799, 11],
		[3806, 2],
		[3813, 1],
		[3820, 5],
		[3827, 2],
		[3834, 1],
		[3841, 22],
		[3855, 10],
		[3862, 15],
		[3869, 1],
		[3876, 8],
		[3890, 2],
		[3897, 6],
		[3904, 14],
		[3911, 3],
		[3918, 13],
		[3925, 7],
		[3932, 1],
		[3939, 2],
		[3946, 1],
		[3967, 2],
		[3974, 3],
		[3988, 6],
		[3995, 7],
		[4002, 6],
		[4009, 5],
		[4016, 4],
		[4023, 3],
		[4030, 3],
		[4037, 2],
		[4044, 8],
		[4051, 8],
		[4058, 1],
		[4065, 1],
		[4072, 1],
		[4086, 19],
		[4100, 25],
		[4107, 3],
		[4114, 6],
		[4121, 11],
		[4128, 3]
	]
}
