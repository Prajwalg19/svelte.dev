{
	"name": "@feelinglovelynow/svelte-turnstile",
	"description": "Integrate Cloudflare Turnstile form validation in Svelte.",
	"repo_url": "https://github.com/feelinglovelynow/svelte-turnstile",
	"authors": ["feelinglovelynow"],
	"homepage": "https://github.com/feelinglovelynow/svelte-turnstile#readme",
	"downloads": 7,
	"updated": "2023-10-30T10:53:34.288Z",
	"tags": ["integration"],
	"github_stars": 1,
	"typescript": true,
	"version": "1.0.0",
	"svelte_range": "^4.0.0",
	"kit_range": "^1.27.2",
	"last_rune_check_version": "1.0.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@feelinglovelynow/svelte-turnstile",
				"version": "1.0.0",
				"size": 11697
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# üïâ @feelinglovelynow/svelte-turnstile\n\n\n## üíé Install\n```bash\npnpm add @feelinglovelynow/svelte-turnstile\n```\n\n\n## üôè Description\nHelper functions and component to integrate Svelte w/ an invisible Cloudflare Turnstile form validator\n\n\n## üíö Properties\n```ts\nexport let sitekey: string\n```\n\n\n## üíõ Instructions\n1. Get Cloudflare account and in dashboard setup Turnstile\n1. From Turnstile dashboard find Secret key\n1. Add Secret key to `.env` file (CLOUDFLARE_TURNSTILE_PRIVATE_KEY)\n1. Add turnstile script to app.html\n```html\n<script src=\"https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit\"></script> <!-- https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/#disable-implicit-rendering -->\n```\n\n\n### üß° Example: Client side\n* If wondering how PUBLIC_ENVIRONMENT is set => [@feelinglovelynow/env-write](https://www.npmjs.com/package/@feelinglovelynow/env-write)\n* If wondering where showToast comes from => [@feelinglovelynow/toast](https://www.npmjs.com/package/@feelinglovelynow/toast)\n```svelte\n<script lang=\"ts\">\n  import showToast from '@feelinglovelynow/toast'\n  import { PUBLIC_ENVIRONMENT } from '$env/static/public'\n  import { Turnstile, PUBLIC_KEY_ALWAYS_PASSES } from '@feelinglovelynow/svelte-turnstile'\n\n  const PUBLIC_KEY = 'get-from-cloudflare-turnstile-dashboard'\n\n  function getTurnstileState (e: CustomEvent) { // if form is submitted before this callback no token will be passed in the form (aka) token validation will fail, typically takes less then 3 seconds after page load\n    if (e.detail.status === 'success') isLoading = false // status options => [ 'success', 'error', 'expired', 'timeout' ] https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/#configurations\n    else showToast({ type: 'info', items: [ e.detail.message ] }) // message options => [ 'All good!', 'Network error', 'Token expired', 'Challenge expired' ] https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/#configurations\n  }\n</script>\n\n\n<Turnstile on:state={ getTurnstileState } sitekey={ PUBLIC_ENVIRONMENT === 'local' ? PUBLIC_KEY_ALWAYS_PASSES : PUBLIC_KEY } />\n```\n\n\n### ‚ù§Ô∏è Example: Server side\n* If wondering how PUBLIC_ENVIRONMENT is set => [@feelinglovelynow/env-write](https://www.npmjs.com/package/@feelinglovelynow/env-write)\n```ts\nimport { PUBLIC_ENVIRONMENT } from '$env/static/public'\nimport { CLOUDFLARE_TURNSTILE_PRIVATE_KEY } from '$env/static/private'\nimport { validate, CLOUDFLARE_TURNSTILE_PRIVATE_KEY_ALWAYS_PASSES } from '@feelinglovelynow/svelte-turnstile'\n\nconst fields = Object.fromEntries((await request.formData()).entries())\nconst secret = (PUBLIC_ENVIRONMENT === 'local') ? CLOUDFLARE_TURNSTILE_PRIVATE_KEY_ALWAYS_PASSES : CLOUDFLARE_TURNSTILE_PRIVATE_KEY\n\nawait validate(fields['cf-turnstile-response'], secret)\n```\n\n\n### üíü Server Side Errors from `validate.ts`\n```ts\nif (!turnstileResponse) throw { id: 'fln__svelte-turnstile__no-turnstile-response', message: 'Please include a turnstileResponse' }\nif (!secret) throw { id: 'fln__svelte-turnstile__no-secret', message: 'Please include a secret' }\nif (!validationResponse.success) throw { id: 'fln__svelte-turnstile__validation-unsuccessful', message: 'For some reason our site believes you are a bot, we apologize, refresh your browser and submit again as human like as possible please' }\n```\n\n\n## üéÅ All our NPM Packages\n* [@feelinglovelynow/env-write](https://github.com/feelinglovelynow/env-write)\n* [@feelinglovelynow/get-form-entries](https://github.com/feelinglovelynow/get-form-entries)\n* [@feelinglovelynow/get-relative-time](https://github.com/feelinglovelynow/get-relative-time)\n* [@feelinglovelynow/global-style](https://github.com/feelinglovelynow/global-style)\n* [@feelinglovelynow/jwt](https://github.com/feelinglovelynow/jwt)\n* [@feelinglovelynow/loop-backwards](https://github.com/feelinglovelynow/loop-backwards)\n* [@feelinglovelynow/slug](https://github.com/feelinglovelynow/slug)\n* [@feelinglovelynow/svelte-loading-anchor](https://github.com/feelinglovelynow/svelte-loading-anchor)\n* [@feelinglovelynow/svelte-modal](https://github.com/feelinglovelynow/svelte-modal)\n* [@feelinglovelynow/svelte-turnstile](https://github.com/feelinglovelynow/svelte-turnstile)\n* [@feelinglovelynow/toast](https://github.com/feelinglovelynow/toast)\n",
	"legacy_svelte": true,
	"downloads_history": [
		[3589, 68],
		[3596, 5],
		[3603, 3],
		[3610, 3],
		[3617, 3],
		[3624, 1],
		[3631, 1],
		[3638, 5],
		[3645, 2],
		[3652, 2],
		[3659, 4],
		[3666, 3],
		[3687, 1],
		[3708, 1],
		[3715, 1],
		[3722, 3],
		[3729, 15],
		[3736, 11],
		[3743, 35],
		[3750, 8],
		[3757, 3],
		[3764, 4],
		[3771, 6],
		[3778, 1],
		[3785, 2],
		[3799, 2],
		[3806, 5],
		[3813, 4],
		[3834, 2],
		[3841, 5],
		[3848, 3],
		[3855, 6],
		[3862, 4],
		[3869, 3],
		[3883, 5],
		[3890, 4],
		[3897, 3],
		[3904, 3],
		[3911, 3],
		[3925, 1],
		[3932, 8],
		[3939, 1],
		[3946, 3],
		[3960, 1],
		[3967, 1],
		[3988, 3],
		[4002, 1],
		[4016, 3],
		[4023, 1],
		[4030, 1],
		[4037, 3],
		[4044, 4],
		[4051, 2],
		[4058, 1],
		[4072, 1],
		[4079, 2],
		[4086, 3],
		[4093, 2],
		[4100, 2],
		[4107, 4],
		[4114, 7],
		[4121, 5],
		[4128, 1]
	],
	"esm": true,
	"cjs": false
}
