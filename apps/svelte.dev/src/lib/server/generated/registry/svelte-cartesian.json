{
	"name": "svelte-cartesian",
	"description": "Renders prop combinations for visual regression testing in Svelte components.",
	"repo_url": "https://github.com/theetrain/svelte-cartesian",
	"authors": ["etrain"],
	"homepage": "https://github.com/theetrain/svelte-cartesian#readme",
	"downloads": 73,
	"updated": "2024-09-06T02:07:39.457Z",
	"tags": ["tooling"],
	"github_stars": 12,
	"typescript": true,
	"version": "1.1.5",
	"svelte_range": "^4.2.18 || ^5.0.0-next.164",
	"last_rune_check_version": "1.1.5",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "svelte-cartesian",
				"version": "1.1.5",
				"size": 24054
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# Svelte Cartesian\n\nA single component that helps render prop combinations. It can be used with visual regression test software such as [Playwright](https://playwright.dev/)\nor [Storybook](https://storybook.js.org/) (see [examples](#examples)).\n\nIts name comes from \"Cartesian Product\" in which an intersection of two\nor more arrays form a matrix, such as:\n\n```\n[a, b] * [x, y] --> [[a, x], [a, y], [b, x], [b, y]]\n```\n\n<img src=\"https://raw.githubusercontent.com/theetrain/svelte-cartesian/main/demo.jpg\" alt=\"Cartesian demonstration featuring a 4 x 3 x 2 combination.\" />\n\n- [Why](#why)\n  - [Before using `svelte-cartesian`](#before-using-svelte-cartesian)\n  - [After using `svelte-cartesian`](#after-using-svelte-cartesian)\n- [Setup](#setup)\n- [Basic usage](#basic-usage)\n- [Usage with slots](#usage-with-slots)\n  - [Available slots](#available-slots)\n- [Adding labels](#adding-labels)\n- [Styling `<Cartesian>`](#styling-cartesian)\n- [`<Cartesian>` props](#cartesian-props)\n- [Examples](#examples)\n  - [Usage with Playwright](#usage-with-playwright)\n  - [Usage with Storybook](#usage-with-storybook)\n- [Svelte 5 usage (experimental)](#svelte-5-usage-experimental)\n- [Project roadmap](#project-roadmap)\n  - [Goals](#goals)\n  - [Non-goals](#non-goals)\n- [Credits](#credits)\n\n## Why\n\nWhen building reusable components, testing them helps build confidence that\nthey'll work as expected in one or many consuming applications, and helps ensure\nthey remain stable as features are added. This includes, but is not limited to:\n\n1. Type checking\n2. Unit tests\n3. Integration tests\n4. Visual regression tests\n5. End to end tests\n\nAt various stages of a UI library's maturity, different levels of test coverage\nbecome more necessary as the library matures.\n\n`svelte-cartesian` helps with point 4: Visual regression tests. Today, rendering\nmany combinations of a component requires nested `{#each}` loops and some style\nboilerplate. `svelte-cartesian` solves this in one component that accepts prop\nvalues you wish to test, and then renders prop combinations.\n\n### Before using `svelte-cartesian`\n\n<!-- prettier-ignore-start -->\n```html\n<script>\n  import { Button } from \"./Button.svelte\"\n</script>\n\n<!-- This nests deeper with every additional prop -->\n{#each ['primary', 'secondary'] as variant}\n  {#each ['small', 'medium', 'large'] as size}\n    {#each ['main', 'common', 'ghost'] as prominence}\n      <button {size} {variant} {prominence}>\n        Dispense popcorn\n      </button>\n    {/each}\n  {/each}\n{/each}\n```\n<!-- prettier-ignore-end -->\n\n### After using `svelte-cartesian`\n\n```html\n<script>\n  import { Cartesian } from 'svelte-cartesian'\n  import { Button } from './Button.svelte'\n</script>\n\n<Cartesian\n  Component={Button}\n  props={{\n    variant: ['primary', 'secondary'],\n    size: ['small', 'medium', 'large'],\n    prominence: ['main', 'common', 'ghost']\n  }}\n>\n  Dispense popcorn\n</Cartesian>\n```\n\n## Setup\n\n1. Install package\n\n   ```bash\n   npm install -D svelte-cartesian\n   ```\n\n2. Add component to your page.\n\n   ```html\n   <script>\n     import { Cartesian } from \"svelte-cartesian\"\n   </script>\n   ```\n\n3. Pass props with array of potential values, including an explicit `undefined`\n   where applicable.\n\n## Basic usage\n\n- Pass a component to the `Component` prop.\n- Pass an object to `props` containing possible prop keys for your passed-in\n  component, with each prop key containing an array of potential values.\n\n```html\n<script>\n  import Button from './Button.svelte'\n  import { Cartesian } from 'svelte-cartesian'\n</script>\n\n<Cartesian\n  Component={Button}\n  props={{\n    variant: ['primary', 'secondary'],\n    size: ['medium', 'large']\n  }}\n>\n  Click me\n</Cartesian>\n```\n\n## Usage with slots\n\n- Pass your component into the default slot.\n- Spread the `innerProps` slot prop to your component, which will render a\n  single prop combination at every iteration.\n- This is used to manually define named slot combinations for your provided\n  component.\n\n```html\n<script>\n  import Button from \"./Button.svelte\"\n  import { Cartesian } from \"svelte-cartesian\"\n\n  const props = {\n    Component: Button,\n    props: {\n      variant: [\"primary\", \"secondary\"],\n      size: [\"medium\", \"large\"],\n    },\n  }\n</script>\n\n<!-- Left slot + default slot -->\n<Cartesian {...props} let:innerProps>\n  <button {...innerProps}>\n    <svelte:fragment slot=\"left\"> Left contents </svelte:fragment>\n    Click me\n  </button>\n</Cartesian>\n\n<!-- Default slot on its own -->\n<Cartesian {...props} let:innerProps>\n  <button {...innerProps}>Click me</button>\n</Cartesian>\n```\n\n### Available slots\n\n| slot name | slot props                    | description                                                                                                                                                                                                                              |\n| --------- | ----------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| _default_ | `let:innerProps`              | Default slot. Contents get passed to provided `Component`. When `asChild` is set to `true`, contents **MAY** contain provided `Component` and its respective slots; see [usage with slots](#usage-with-slots-svelte-4) for more details. |\n| `label`   | `let:label`, `let:innerProps` | Provide your own label, styles, and logic instead of the default provided label.                                                                                                                                                         |\n\n## Adding labels\n\nUse the `labels` prop to generate labels next to every component instance.\n\n```html\n<Cartesian props=\"{props}\" Component=\"{Component}\" labels />\n<!--  ^^^^^^ implied as `true` -->\n```\n\nAllowed values for the `labels` prop:\n\n- `true`: same as `'short'`.\n- `'short'`: display comma-separated values, skip objects.\n- `'long'`: display line-separated key-value pairs, represent object values as their type name.\n- `'long-with-objects'`: same as `'long'`, but with full object definitions.\n\nDefault labelling behaviour can be overridden with the `label` slot.\n\n```html\n<!-- Using `label` slot prop -->\n<Cartesian props=\"{props}\" Component=\"{Component}\" labels>\n  <div class=\"label-container\" slot=\"label\" let:label>\n    <span class=\"label\">Props</span>\n    <pre class=\"props\">{label}</pre>\n  </div>\n</Cartesian>\n\n<!--\n  Using `innerProps` slot prop.\n\n  Note: `label` prop isn't required when\n  using `innerProps` to render labels.\n-->\n<Cartesian props=\"{props}\" Component=\"{Component}\">\n  <div class=\"label-container\" slot=\"label\" let:innerProps>\n    <span class=\"label\">Props</span>\n    <pre class=\"props\">{customLabel(innerProps)}</pre>\n  </div>\n</Cartesian>\n```\n\n## Styling `<Cartesian>`\n\n`<Cartesian>` has these default CSS behaviours:\n\n- Use CSS Grid with a `gap` of `1rem`.\n- `padding` is set to `0.5rem 1rem` to allow consistent space when multiple\n  `<Cartesian>` components are rendered one after the other.\n- `grid-template-columns` is set to `var(--columns, repeat(2, 1fr))` for a\n  default 2-column grid overridable with the `--columns` CSS variable.\n\nThere are a few ways to override its styles:\n\n1. Via the `--columns` CSS variable; you may use Svelte `--style-props` or\n   `style=\"--columns: repeat(3, 1fr)\"` to set a new value.\n2. Use the `style` attribute that overrides the default `style` via\n   `divAttributes`. The same technique can be applied to your own passed-in\n   components so long as it accepts `style` via `$$restProps` or [pass-through props](https://svelte.dev/repl/f6c1779a4b924686af69a4e9def81621?version=4.2.18).\n3. Pass in global class names to the `class` attribute that gets passed in via `divAttributes`.\n4. Wrap `<Cartesian>` with your own element and styles, and set the `unstyled`\n   prop to `true`.\n\n```html\n<script>\n  import { Cartesian } from 'svelte-cartesian'\n  import Button from './Button.svelte'\n</script>\n\n<Cartesian\n  Component={Button}\n  props={{\n    size: ['small', 'medium'],\n    variant: ['primary', 'secondary']\n  }}\n\n  --columns=\"repeat(4, 1fr)\"\n  style=\"background-color: green\"\n> <!-- customize style -->\n</Cartesian>\n```\n\n## `<Cartesian>` props\n\n| prop             | type                                                                            | description                                                                                                                                                                                       |\n| ---------------- | ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `Component`      | `ComponentType`                                                                 | **Required**: A Svelte component.                                                                                                                                                                 |\n| `props`          | `Record<string, any[]>`                                                         | **Required**: An object containing prop names and an array of potential values.                                                                                                                   |\n| `asChild`        | `?boolean=false`                                                                | Renders the default slot's contents. Each Cartesian's iteration will pass `innerProps` as slot props. Default value `false`. See [usage with slots](#usage-with-slots-svelte-4) for more details. |\n| `labels`         | `?(undefined \\| boolean \\| 'short' \\| 'long' \\| 'long-with-objects')=undefined` | Generate labels under every iteration. See [adding labels](#adding-labels-svelte-4) for detailed usage.                                                                                           |\n| `unstyled`       | `?boolean=false`                                                                | Disable built-in CSS.                                                                                                                                                                             |\n| `divAttributes`  | `?SvelteHTMLElements[\"div\"]={}`                                                 | Attributes to be spread onto the wrapping `<div>` element.                                                                                                                                        |\n| `let:innerProps` | `Record<string, any>`                                                           | Provides a single combination of props at every iteration to the _default_ slot. Use this alongside `asChild` to spread `innerProps` to your nested component.                                    |\n| `let:label`      | `string`                                                                        | Generated label for a given instance. This is provided to the `label` slot. See [adding labels](#adding-labels-svelte-4) for more details.                                                        |\n\n## Examples\n\n### Usage with Playwright\n\n1. Create a page using `<Cartesian />`\n2. Set up a test to take a screenshot of your page.\n\n```js\ntest(\"default slot\", async ({ page }) => {\n  await page.goto(\"localhost:4173/\")\n  await expect(page).toHaveScreenshot()\n})\n```\n\nSee complete Playwright examples in [end to end\ntests](./e2e/svelte-4/src/routes/).\n\n### Usage with Storybook\n\n1. Set up a component story.\n2. Import `<Cartesian />` to render prop combinations:\n\n```html\n<script context=\"module\">\n  import { Story, Template } from \"@storybook/addon-svelte-csf\"\n  import { Cartesian } from \"svelte-cartesian\"\n  import Switch from \"./Switch.svelte\"\n\n  export const meta = {\n    title: \"Switch\",\n    component: Switch,\n    tags: [\"autodocs\"],\n  }\n  const props = {\n    label: [\"Active profile\"],\n    size: [\"sm\", \"md\"],\n    toggle: [\"on\", \"off\"],\n    buttonAttributes: [{ disabled: true }, { disabled: false }],\n  }\n</script>\n\n<!-- Basic Cartesian usage -->\n<template>\n  <Cartesian {props} Component=\"{Switch}\" />\n</template>\n\n<Story name=\"Switches\" />\n\n<!--\n  Optional, but recommended to test states\n-->\n<Story name=\"Switches Pressed\" parameters={{ pseudo: { active: true } }} />\n<Story name=\"Switches Focused\" parameters={{ pseudo: { focusVisible: true } }}\n/>\n```\n\nSee\n[storybook-addon-pseudo-states](https://github.com/chromaui/storybook-addon-pseudo-states)\nfor more inspiration.\n\n## Svelte 5 usage (experimental)\n\nSee [Svelte 5 README](./README-svelte-5.md).\n\n## Project roadmap\n\n### Goals\n\n- Add deeper styling flexibility.\n- Improve types.\n\n### Non-goals\n\n- Svelte 3 support.\n- Support other JS frameworks; though I may export [`getCartesianProduct()`](./lib/cartesian.js) upon request.\n\n## Credits\n\n- [react-cartesian](https://github.com/codenameyau/react-cartesian)\n- [Radix Svelte](https://github.com/radix-svelte/radix-svelte), and by extension\n  [Radix UI](https://github.com/radix-ui)\n",
	"legacy_svelte": true,
	"downloads_history": [
		[3834, 358],
		[3841, 29],
		[3848, 23],
		[3855, 143],
		[3862, 14],
		[3869, 54],
		[3876, 14],
		[3883, 11],
		[3890, 83],
		[3897, 178],
		[3904, 56],
		[3911, 34],
		[3918, 12],
		[3925, 8],
		[3932, 3],
		[3939, 6],
		[3946, 12],
		[3953, 12],
		[3960, 10],
		[3967, 30],
		[3974, 92],
		[3981, 49],
		[3988, 36],
		[3995, 37],
		[4002, 38],
		[4009, 32],
		[4016, 72],
		[4023, 101],
		[4030, 48],
		[4037, 50],
		[4044, 51],
		[4051, 44],
		[4058, 61],
		[4065, 47],
		[4072, 35],
		[4079, 52],
		[4086, 63],
		[4093, 55],
		[4100, 60],
		[4107, 71],
		[4114, 73],
		[4121, 50],
		[4128, 53]
	]
}
