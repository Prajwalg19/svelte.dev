{
	"name": "@beyonk/svelte-mapbox",
	"description": "Integrate Mapbox maps and geocoding into Svelte applications.",
	"repo_url": "",
	"authors": ["antony", "adampond", "alex.dilley", "jedwoodcock", "leandro.silva", "tomlewis0"],
	"downloads": 1569,
	"updated": "2024-11-11T13:27:03.614Z",
	"tags": ["ui"],
	"typescript": true,
	"version": "11.0.0",
	"svelte_range": ">=4.0.0",
	"kit_range": "^2.8.0",
	"last_rune_check_version": "11.0.0",
	"github_stars": 0,
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@beyonk/svelte-mapbox",
				"version": "11.0.0",
				"size": 47701
			}
		],
		"dependencies": [],
		"circular": []
	},
	"legacy_svelte": true,
	"readme": "<a href=\"https://beyonk.com\">\n    <br />\n    <br />\n    <img src=\"https://user-images.githubusercontent.com/218949/144224348-1b3a20d5-d68e-4a7a-b6ac-6946f19f4a86.png\" width=\"198\" />\n    <br />\n    <br />\n</a>\n\n## Svelte MapBox\n\n[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com) [![svelte-v3](https://img.shields.io/badge/svelte-v3-blueviolet.svg)](https://svelte.dev) ![publish](https://github.com/beyonk-adventures/svelte-mapbox/workflows/publish/badge.svg)\n\nMaps and Geocoding (Autocomplete) [MapBox](https://www.mapbox.com/) components in Vanilla JS (or Svelte)\n\n* SvelteKit Ready\n* SSR Ready\n* Lightweight\n* No clientside dependencies (Map)\n* Allow creation of custom Svelte components on the map\n\n* Note that the GeoCoder has a clientside dependency, since it adds about 0.5mb to the bundle size, and significant time to the build time if bundled.\n\n## Installing\n\n```\nnpm install --save-dev @beyonk/svelte-mapbox\n```\n\n### Basic Usage (Map)\n\nThe container component is the map, and there are a variety of components which go on the map.\n\n```jsx\n<Map\n  accessToken=\"<your api key>\" // add your api key here\n  bind:this={mapComponent} // Get reference to your map component to use methods\n  on:recentre={e => console.log(e.detail.center.lat, e.detail.center.lng) } // recentre events\n  options={{ scrollZoom: false }} // // add arbitrary options to the map from the mapbox api\n>\n  <Earthquakes /> // Any custom component you create or want here - see marker example\n  <Marker lat={someLat} lng={someLng} color=\"rgb(255,255,255)\" label=\"some marker label\" popupClassName=\"class-name\" /> // built in Marker component\n  <NavigationControl />\n  <GeolocateControl options={{ some: 'control-option' }} on:eventname={eventHandler} />\n  <ScaleControl />\n</Map>\n\n<script>\n  import { Map, Geocoder, Marker, controls } from '@beyonk/svelte-mapbox'\n\timport Earthquakes from './Earthquakes.svelte' // custom component\n  \n  const { GeolocateControl, NavigationControl, ScaleControl } = controls\n\n  // Usage of methods like setCenter and flyto\n  mapComponent.setCenter([lng,lat],zoom) // zoom is optional\n  mapComponent.flyTo({center:[lng,lat]}) // documentation (https://docs.mapbox.com/mapbox-gl-js/example/flyto)\n\n  // Define this to handle `eventname` events - see [GeoLocate Events](https://docs.mapbox.com/mapbox-gl-js/api/markers/#geolocatecontrol-events)\n  function eventHandler (e) {\n    const data = e.detail\n    // do something with `data`, it's the result returned from the mapbox event\n  }\n</script>\n\n<style>\n    :global(.mapboxgl-map) {\n        height: 200px;\n        // sometimes mapbox objects don't render as expected; troubleshoot by changing the height/width to px\n    }\n</style>\n```\n\n### Markers\n\nBy default, markers are typical map pins to which you can pass a color property.\n\n```jsx\n<Marker color={brandColour} />\n```\n\nYou may also create a custom pin with the default slot.\n\n```jsx\n<Marker\nlat={waypoint.geo.lat}\nlng={waypoint.geo.lng}\n> \n  <a href={waypoint.slug}>\n    <div class='myMarker {($mapData.activeMarker == waypoint.id) ? 'active' : ''}' \n    style=\"\n    color:{mainPoint.color};\n    background-image: url('{(waypoint.images != undefined) ? waypoint.images[0].thumb.url : ''}');\n    \">\n    </div>\n  </a>\n</Marker>\n```\n\n### Marker Popups\nBy default a popup is revealed when you click a pin.  It is populated with text provided in the label property.\n\n```jsx\n<Marker label={markerText} />\n```\n\nTo indicate interactivity, you may target the marker with some custom CSS:\n\n```jsx\n<style>\n    :global(.mapboxgl-marker){\n      cursor: pointer;\n    }   \n</style>\n```\n\nOptionally, disable the popup with the `popup={false}` property:\n\n```jsx\n<Marker popup={false} />\n```\n\nYou may alternatively pass a custom DOM element to the marker to use as a popup. \n\n```jsx\n<Marker lat={pin.coordinates.latitude} lng={pin.coordinates.longitude}>\n    <div class=\"content\" slot=\"popup\">\n      <h3>{pin.name}</h3>\n        <Markdown source={pin.description} />\n      </div>\n      <img src=\"{pin.images.length > 0 ? pin.images[0].url : \"\"}\" alt=\"{pin.name}\"/>\n    </div> \n</Marker>\n```\n\n### Reactive Properties\n\nThe map has reactive properties for `center` and `zoom`. This means that if you set these properties, or modify them whilst the map is displayed, the map will react accordingly.\n\nThis also means that if you bind these properties to a variable, that variable will automatically be updated with the current `center` and `zoom` of the map if the user moves or zooms the map.\n\nThis is often easier than waiting for events such as `recentre` or `zoom` to be fired, to update markers and similar:\n\n```jsx\n<Map accessToken=\"<your api key>\" bind:center bind:zoom>\n  <Marker bind:lat bind:lng />\n</Map>\n\n<script>\n  let center\n  let zoom\n\n  $: lng = center[0]\n  $: lat = center[1]\n</script>\n```\n\n### Methods\n\nThe map has a variety of methods which delegate to a queue. The reason for this is that MapBox is quite a heavy library, and rendering a map is a pretty heavy operation. It's hard to guarantee\nwhen everything is ready in your browser, and when you can start doing things with it.\n\nIn case you want raw map access to interact directly with the map, you can call `getMap` on the map and interact with it that way. However we don't recommend it, as you have no guarantees that the\nmap is ready in your browser when you call it this way.\n\n## Basic Usage (Geocoder)\n\nThe Geocoder is an autocompleting place lookup, which returns a lat and lng for a place.\n\n```jsx\n<Geocoder accessToken=\"<your api key>\" on:result={somePlaceChangeFunction} />\n\n<script>\n  import { Geocoder } from '@beyonk/svelte-mapbox'\n</script>\n```\n\nThe geocoder has five events you can subscribe to: `on:loading`, `on:result`, `on:results`, `on:clear`, and `on:error` which are [documented here](https://github.com/mapbox/mapbox-gl-geocoder/blob/master/API.md#on)\n\nThe most important event is `on:result` which is fired when a user selects an autocomplete result.\n\nThere is a sixth event specific to this library, which is `on:ready`, which is fired when the component is ready for use. You can likely ignore it.\n\n## Custom CSS\n\nYou can add additional css to override mapbox provided CSS by passing the `customStylesheetUrl` property to either the `Map` or `Geocoder` components.\n\n## Demo\n\nTo see the earthquakes demo:\n\nMake sure you copy the `.env` file to `.env.local` and then populate it with your mapbox key.\n\n`\nnpm run dev\n`\n\n",
	"downloads_history": [
		[3589, 898],
		[3596, 1446],
		[3603, 1039],
		[3610, 1088],
		[3617, 1028],
		[3624, 1012],
		[3631, 1010],
		[3638, 1001],
		[3645, 969],
		[3652, 773],
		[3659, 1179],
		[3666, 928],
		[3673, 882],
		[3680, 1174],
		[3687, 1112],
		[3694, 1044],
		[3701, 924],
		[3708, 1068],
		[3715, 930],
		[3722, 900],
		[3729, 1295],
		[3736, 1039],
		[3743, 1011],
		[3750, 1318],
		[3757, 1764],
		[3764, 1135],
		[3771, 1369],
		[3778, 1166],
		[3785, 1300],
		[3792, 1205],
		[3799, 1201],
		[3806, 1347],
		[3813, 1039],
		[3820, 1056],
		[3827, 1290],
		[3834, 787],
		[3841, 1332],
		[3848, 1541],
		[3855, 1505],
		[3862, 1676],
		[3869, 1075],
		[3876, 1347],
		[3883, 1259],
		[3890, 1410],
		[3897, 1170],
		[3904, 1061],
		[3911, 1072],
		[3918, 1151],
		[3925, 992],
		[3932, 984],
		[3939, 1436],
		[3946, 1468],
		[3953, 1078],
		[3960, 1120],
		[3967, 1486],
		[3974, 1560],
		[3981, 1122],
		[3988, 1206],
		[3995, 1215],
		[4002, 934],
		[4009, 402],
		[4016, 496],
		[4023, 908],
		[4030, 1158],
		[4037, 1241],
		[4044, 1125],
		[4051, 1585],
		[4058, 1171],
		[4065, 1647],
		[4072, 1521],
		[4079, 1775],
		[4086, 1909],
		[4093, 1382],
		[4100, 1282],
		[4107, 1540],
		[4114, 1569],
		[4121, 1566],
		[4128, 1069]
	],
	"esm": true,
	"cjs": false
}
