{
	"name": "@svelte-dev/auth-alipay",
	"description": "Provides Alipay authentication strategy for Svelte applications.",
	"repo_url": "https://github.com/willin/svelte-turbo",
	"authors": ["willin"],
	"homepage": "https://svelte.js.cool",
	"downloads": 9,
	"updated": "2023-12-11T08:15:03.660Z",
	"tags": ["auth"],
	"github_stars": 5,
	"typescript": true,
	"version": "1.0.0",
	"svelte_range": "^5.0.0-next.22",
	"kit_range": "^1.27.4",
	"last_rune_check_version": "1.0.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@svelte-dev/auth-alipay",
				"version": "1.0.0",
				"size": 28183
			},
			{
				"name": "dayjs",
				"version": "1.11.13",
				"size": 670277
			},
			{
				"name": "debug",
				"version": "4.4.0",
				"size": 42798
			},
			{
				"name": "ms",
				"version": "2.1.3",
				"size": 6721
			},
			{
				"name": "nanoid",
				"version": "5.1.5",
				"size": 12143
			}
		],
		"dependencies": [
			[0, 1],
			[0, 2],
			[2, 3],
			[0, 4]
		],
		"circular": []
	},
	"readme": "![Logo](https://repository-images.githubusercontent.com/726691357/f09bf6fc-3844-4584-8eee-6bfb425d8a38)\n\n# @svelte-dev/auth-alipay strategy\n\nThe Alipay strategy is used to authenticate users against a alipay account. It extends the OAuth2Strategy.\n\nFor more details: <https://github.com/willin/svelte-turbo>\n\n## Supported runtimes\n\n| Runtime    | Has Support |\n| ---------- | ----------- |\n| Node.js    | ✅          |\n| Cloudflare | ✅          |\n| Vercel     | ✅          |\n\n## Usage\n\n### Create an OAuth application\n\nFollow the steps on [the Alipay website](https://open.alipay.com/) to create a new application and get a client ID and secret.\n\n### Create the strategy instance\n\n```ts\nimport { AlipayStrategy } from '@svelte-dev/auth-github';\n\nlet strategy = new AlipayStrategy(\n  {\n    appId: env.ALIPAY_APP_ID,\n    privateKey: env.ALIPAY_PRIVATE_KEY,\n    callbackURL: 'https://example.com/auth/alipay/callback'\n  },\n  async ({ accessToken, extraParams, profile }) => {\n    // Get the user data from your DB or API using the tokens and profile\n    return User.findOrCreate({ email: profile.emails[0].value });\n  }\n);\n\nauth.use(strategy);\n```\n\n> Notice: `privateKey` should be `pkcs8` format. You can use `openssl pkcs8 -topk8 -inform PEM -in app_private_key.pem -outform PEM -nocrypt` to convert the private key. Or tools provided by alipay: <https://opendocs.alipay.com/common/02khjp?pathHash=e5a2e515>\n\n![https://github.com/willin/svelte-turbo/assets/1890238/2d0846c6-457b-40c5-a635-ade0401c3521]\n\n### Setup your routes\n\n```html\n<form action=\"/auth/alipay\" method=\"get\">\n  <button>Login with Alipay</button>\n</form>\n```\n\n```tsx\n// routes/auth/github/+server\nimport { authenticator } from '~/auth.server';\nimport type { RequestHandler } from './$types';\n\nexport const POST: RequestHandler = async (event) => {\n  return authenticator.authenticate('alipay', event);\n};\n```\n\n```tsx\n// routes/auth/github/callback/+server\nimport { authenticator } from '~/auth.server';\nimport type { PageServerLoad } from './$types';\n\nexport const load: PageServerLoad = async ({ event }) => {\n  return authenticator.authenticate('github', event, {\n    successRedirect: '/dashboard',\n    failureRedirect: '/login'\n  });\n};\n```\n\n## 赞助 Sponsor\n\n维护者 Owner： [Willin Wang](https://willin.wang)\n\n如果您对本项目感兴趣，可以通过以下方式支持我：\n\n- 关注我的 Github 账号：[@willin](https://github.com/willin) [![github](https://img.shields.io/github/followers/willin.svg?style=social&label=Followers)](https://github.com/willin)\n- 参与 [爱发电](https://afdian.net/@willin) 计划\n- 支付宝或微信[扫码打赏](https://user-images.githubusercontent.com/1890238/89126156-0f3eeb80-d516-11ea-9046-5a3a5d59b86b.png)\n\nDonation ways:\n\n- Github: <https://github.com/sponsors/willin>\n- Paypal: <https://paypal.me/willinwang>\n- Alipay or Wechat Pay: [QRCode](https://user-images.githubusercontent.com/1890238/89126156-0f3eeb80-d516-11ea-9046-5a3a5d59b86b.png)\n\n## 许可证 License\n\nApache-2.0\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3631, 105],
		[3645, 6],
		[3652, 7],
		[3659, 5],
		[3666, 8],
		[3673, 2],
		[3680, 2],
		[3687, 5],
		[3694, 7],
		[3701, 2],
		[3708, 2],
		[3715, 3],
		[3722, 3],
		[3729, 3],
		[3736, 3],
		[3750, 4],
		[3757, 2],
		[3764, 2],
		[3771, 5],
		[3778, 3],
		[3785, 2],
		[3792, 1],
		[3799, 1],
		[3806, 2],
		[3813, 2],
		[3820, 3],
		[3827, 3],
		[3834, 11],
		[3841, 1],
		[3848, 1],
		[3855, 2],
		[3862, 9],
		[3869, 3],
		[3876, 5],
		[3883, 3],
		[3890, 5],
		[3904, 7],
		[3911, 4],
		[3918, 1],
		[3925, 5],
		[3932, 2],
		[3939, 7],
		[3946, 1],
		[3953, 6],
		[3960, 2],
		[3967, 6],
		[3974, 3],
		[3981, 2],
		[3988, 1],
		[4009, 1],
		[4016, 2],
		[4023, 1],
		[4030, 3],
		[4037, 7],
		[4044, 8],
		[4051, 2],
		[4058, 1],
		[4065, 1],
		[4072, 1],
		[4079, 1],
		[4086, 6],
		[4093, 3],
		[4100, 4],
		[4107, 4],
		[4114, 9],
		[4121, 5],
		[4128, 1]
	]
}
