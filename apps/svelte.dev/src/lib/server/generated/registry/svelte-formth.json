{
	"name": "svelte-formth",
	"description": "Create forms with validation in Svelte apps.",
	"repo_url": "https://github.com/Marnes/svelte-use-form",
	"authors": ["aluroth"],
	"homepage": "https://github.com/Marnes/svelte-use-form#readme",
	"downloads": 8,
	"updated": "2023-09-17T19:34:29.400Z",
	"tags": ["miscellaneous"],
	"github_stars": 0,
	"typescript": true,
	"version": "1.0.7",
	"svelte_range": ">=3.46.0 < 5",
	"kit_range": "next",
	"last_rune_check_version": "1.0.7",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "svelte-formth",
				"version": "1.0.7",
				"size": 54819
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "<h1>\n  <img align=\"left\" height=36 src=\"svelte-use-form.svg\" />\n  &nbsp;\n  <span align=\"left\">svelte-use-form</span>\n</h1>\n\nA Svelte form library that enables you to create complicated forms with minimal effort. As for Svelte, the focus is **DX** üíª‚Äç‚ú®\n\n```bash\nnpm i -D svelte-use-form\n```\n\n<a href=\"https://npmjs.com/package/svelte-use-form\">![GitHub package.json version](https://img.shields.io/github/package-json/v/noahsalvi/svelte-use-form?style=for-the-badge)</a>\n<a href=\"https://npmjs.com/package/svelte-use-form\">![npm](https://img.shields.io/npm/dw/svelte-use-form?style=for-the-badge)</a>\n[![Donate](https://img.shields.io/badge/Donate-PayPal-green.svg?style=for-the-badge)](https://paypal.me/noahvsalvi)\n\n**Features:**\n\n- Minimalistic - Don't write more than necessary.\n- No new components, bindings or callbacks required\n- Validators included and custom validator support\n- Automagically binds to inputs\n\n# Usage\n\nIt's pretty self-explanatory‚Ä¶ check out the examples below üòâ\n\nJust make sure to prefix the form with `$`, when accessing its state.\n\n**Minimal Example** [REPL](https://svelte.dev/repl/faf5a9ab763640ed830028c970421f72?version=3.35.0)\n\n```svelte\n<script>\n  import { useForm, Hint, validators, minLength } from \"svelte-use-form\";\n\n  const form = useForm();\n</script>\n\n<form use:form>\n  <input name=\"title\" use:validators={[minLength(5)]} />\n  <Hint for=\"title\" on=\"minLength\" let:value>\n    The title requires at least {value} characters.\n  </Hint>\n\n  <button disabled={!$form.valid}>Submit</button> <br />\n</form>\n```\n\nor you could also print the error message like this:\n\n```svelte\n...\n{#if $form.title?.touched && $form.title?.errors.minLength}\n  The title requires at least {$form.title.errors.minLength} characters.\n{/if}\n```\n\n## More Examples\n\n<details>\n  <summary>\n    <b>\n      Login Example \n      <a href=\"https://svelte.dev/repl/ca967b45a5aa47b2bb2f9118eb79eefe?version=3\">\n        REPL\n      </a>\n    </b>\n  </summary>\n\n```svelte\n<script>\n  import {\n    useForm,\n    HintGroup,\n    Hint,\n    validators,\n    email,\n    required,\n  } from \"svelte-use-form\";\n\n  const form = useForm();\n</script>\n\n<form use:form>\n  <h1>Login</h1>\n\n  <input type=\"email\" name=\"email\" use:validators={[required, email]} />\n  <HintGroup for=\"email\">\n    <Hint on=\"required\">This is a mandatory field</Hint>\n    <Hint on=\"email\" hideWhenRequired>Email is not valid</Hint>\n  </HintGroup>\n\n  <input type=\"password\" name=\"password\" use:validators={[required]} />\n  <Hint for=\"password\" on=\"required\">This is a mandatory field</Hint>\n\n  <button disabled={!$form.valid}>Login</button>\n</form>\n```\n\n</details>\n\n<details>\n  <summary>\n    <b>\n      Registration Example \n      <a href=\"https://svelte.dev/repl/a6665267d7d0435ebc7921a250552a25?version=3.34.0\">\n        REPL\n      </a>\n    </b>\n  </summary>\n\n```svelte\n<script>\n  import {\n    useForm,\n    Hint,\n    HintGroup,\n    validators,\n    required,\n    minLength,\n    email,\n  } from \"svelte-use-form@2.0.0\";\n\n  const form = useForm();\n  const requiredMessage = \"This field is required\";\n\n  function passwordMatch(value, form) {\n    if (value !== form.values.password) {\n      return { passwordMatch: true };\n    }\n  }\n\n  function containNumbers(numbers) {\n    return function (value) {\n      if (value.replace(/[^0-9]/g, \"\").length < numbers) {\n        return { containNumbers: numbers };\n      }\n    };\n  }\n</script>\n\n<main>\n  <form use:form>\n    <h1>Registration</h1>\n    <label for=\"email\">Email</label>\n    <input type=\"email\" name=\"email\" use:validators={[required, email]} />\n    <HintGroup for=\"email\">\n      <Hint on=\"required\">{requiredMessage}</Hint>\n      <Hint on=\"email\" hideWhenRequired>This must be a valid email</Hint>\n    </HintGroup>\n\n    <label for=\"name\">Name</label>\n    <input type=\"text\" name=\"name\" />\n\n    <label for=\"password\">Password</label>\n    <input\n      type=\"password\"\n      name=\"password\"\n      use:validators={[required, minLength(5), containNumbers(2)]}\n    />\n    <HintGroup for=\"password\">\n      <Hint on=\"required\">{requiredMessage}</Hint>\n      <Hint on=\"minLength\" hideWhenRequired let:value\n        >This field must have at least {value} characters.</Hint\n      >\n      <Hint on=\"containNumbers\" hideWhen=\"minLength\" let:value>\n        This field must contain at least {value} numbers.\n      </Hint>\n    </HintGroup>\n\n    <label for=\"passwordConfirmation\">Password Confirmation</label>\n    <input\n      type=\"password\"\n      name=\"passwordConfirmation\"\n      use:validators={[required, passwordMatch]}\n    />\n    <HintGroup for=\"passwordConfirmation\">\n      <Hint on=\"required\">{requiredMessage}</Hint>\n      <Hint on=\"passwordMatch\" hideWhenRequired>Passwords do not match</Hint>\n    </HintGroup><br />\n\n    <button disabled={!$form.valid} on:click|preventDefault> Submit </button>\n  </form>\n  <pre>\n\t\t{JSON.stringify($form, null, 1)}\n\t</pre>\n</main>\n\n<style>\n  :global(.touched:invalid) {\n    border-color: red;\n    outline-color: red;\n  }\n\n  main {\n    display: flex;\n    justify-content: space-around;\n  }\n\n  pre {\n    height: 80vh;\n    overflow: auto;\n    font-size: 12px;\n  }\n</style>\n```\n\n</details>\n\n**[Edge Cases REPL](https://svelte.dev/repl/d4fc021f688d4ad0b3ceb9a1c44c9be9?version=3.34.0)**\n\n# API\n\n## `useForm(properties: FormProperties?, formName?: string)`\n\nuseForm() returns a svelte `store` (Observable) that is also an `action`. (That's what I call [svelte](https://www.dictionary.com/browse/svelte) üòÜ)\n\n### Why specify `FormProperties`?\n\nProviding the names of the properties as arguments allows us to initialize all form controls in the form before the site is actually rendered. Thus you won't need to null-check them when accessing them.\n\n```svelte\nconst form = useForm({ firstName: {} });\n$form.firstName // Works as expected\n$form?.lastName // lastName would be null on page load\n```\n\n### Why specify `formName`?\n\nBy providing a name you'll have the ability to specifically reference a form from a `Hint` component instead of inferring it from context.\n\n`useForm({}, \"form-1\")` --> `<Hint form=\"form-1\"...>`.\n\nThis allows you to use multiple `useForm` instances in a single component.\n\n### `$form`\n\nSubscribe to the form with `$`-prefix to access the state of the form. It returns a `Form` instance.\n\n### `Form`\n\n**Remark**: In reality the \"Form\" is an union of multiple types and its self.\n\n```typescript\nclass Form {\n  valid: boolean;\n  touched: boolean;\n  values: {\n    [controlName: string]: string;\n  };\n  reset(): void;\n  [controlName: string]: FormControl | undefined;\n}\n```\n\n### `FormProperties` (Optional)\n\n```typescript\nexport type FormProperties = {\n  [key: string]: {\n    /** Initial value of the form control */\n    initial?: string;\n    /** The validators that will be checked when the input changes */\n    validators?: Validator[];\n    /**\n     * The map through which validation errors will be mapped.\n     * You can either pass a string or a function returning a new error value\n     *\n     * **Think of it as a translation map. üòÜ**\n     */\n    errorMap?: ErrorMap;\n  };\n};\n```\n\n## `FormControl`\n\nA FormControl represents an input of the form. (input, textarea, radio, select...)\n\n**Important**:\nEvery control in the form will be accessible through `$form` directly via the `name` attribute.\n\ne.g. `<input name=\"email\" />` --> `$form.email`\n\n```typescript\nclass FormControl {\n  value: string;\n  touched: boolean;\n  validators: Validator[];\n  /** Does the FormControl pass all given validators? */\n  valid: boolean;\n  /** The initial value of the FormControl. */\n  initial: string;\n  /** The DOM elements representing this control*/\n  elements: FormControlElement[];\n\n  /** Returns an object containing possible validation errors */\n  errors: ValidationErrors;\n  /**\n   * Contains a map of values, that will be shown\n   * in place of the original validation error.\n   */\n  errorMap: ErrorMap;\n\n  error(errors: ValidationErrors): void;\n  /** Change the value and the value of all HTML-Elements associated with this control */\n  change(value: any): void;\n  /** Validate the FormControl by querying through the given validators. */\n  validate(): boolean;\n  /** Reset the form control value to its initial value or `{ value }` and untouch it */\n  reset({ value }?: { value?: string | null }): void;\n}\n```\n\n## `use:validators` (Action)\n\nTakes in the validators that should be used on the form control.\ne.g.\n\n```svelte\n<input name=\"email\" use:validators={[required, email]} />\n```\n\n## `<Hint></Hint>`\n\nHelper component for displaying information based on errors in an input.\n\n**Properties:**\n\n- `for=\"name_of_input\"` - Name of concerning input\n- `on=\"error\"` - The error which should trigger it\n\n**Optional attributes:**\n\n- `form=\"form-name\"` - Name of the form. Defaults to form from context.\n- `hideWhen=\"different_error\"` - Hides the hint if the error is active\n- `hideWhenRequired` - Shortcut for hideWhen=\"required\"\n- `showWhenUntouched` - Display Hint even if the field hasn't been touched yet\n- `let:value` - Returns the value of the error\n\n## `<HintGroup><Hint></Hint></HintGroup>`\n\nYou can omit the Hint `for` property when wrapping it with a `HintGroup`.\n\n**Properties:**\n\n- `for=\"name_of_input\"`\n\n**Optional Properties:**\n\n- `form=\"form-name\"` - Name of the form. Defaults to form from context.\n\n## Ignore a form control\n\nYou can ignore a form control element by adding the `data-suf-ignore` attribute to it.\n\n```svelte\n<input name=\"email\" data-suf-ignore />\n```\n\nThis will prevent it from being added to the form elements.\nAnd thus it won't be validated or observed for changes.\n\n## Validators\n\n- `required`\n- `minLength(n)`\n- `maxLength(n)`\n- `number`\n- `email`\n- `url`\n- `pattern(regExp)`\n\n### Custom Validator\n\nA validator needs to be a function that returns null if valid else an object with the key being the name of the error. The value of the object will be accessible through the error. e.g. $form.title.errors.name_of_error -> 'info'.\n\n```typescript\nconst passwordMatch: Validator = (value, form) => {\n  return value === form.password?.value\n    ? null\n    : { passwordMatch: \"Passwords are not matching\" };\n};\n```\n\n```\n... use:validators={[passwordMatch]}\n  or\n... passwordConfirmation: { validators: [passwordMatch] } }\n\n... $form.title.errors.passwordMatch\n```\n\nAn example with [validator.js](https://www.npmjs.com/package/validator) [REPL](https://svelte.dev/repl/21fc7637645d4917994ad4140b54b871?version=3.35.0)\n\n# Remarks\n\n## Chrome Autofill Solution\n\nWhen Chrome autofills the form on page load, it will always register all inputs as valid. After clicking anywhere on the site, pressing a key or pressing the submit button it will then reevaluate all fields and update the state of the form.\n\nThis solution was needed due to Chrome's way of autofilling forms without actually setting the value of the inputs until the page gets a click or key event.\n",
	"legacy_svelte": true,
	"downloads_history": [
		[3589, 9],
		[3596, 4],
		[3603, 9],
		[3610, 17],
		[3617, 10],
		[3624, 3],
		[3631, 12],
		[3638, 1],
		[3645, 11],
		[3652, 9],
		[3659, 11],
		[3666, 15],
		[3673, 3],
		[3687, 6],
		[3694, 1],
		[3701, 5],
		[3708, 6],
		[3715, 3],
		[3722, 1],
		[3729, 2],
		[3743, 2],
		[3750, 3],
		[3757, 4],
		[3764, 1],
		[3771, 6],
		[3778, 3],
		[3785, 2],
		[3792, 2],
		[3799, 1],
		[3806, 4],
		[3820, 1],
		[3834, 1],
		[3841, 42],
		[3848, 1],
		[3862, 1],
		[3869, 2],
		[3876, 1],
		[3890, 9],
		[3897, 8],
		[3904, 8],
		[3911, 1],
		[3918, 3],
		[3932, 8],
		[3939, 1],
		[3946, 2],
		[3953, 1],
		[3960, 1],
		[3967, 9],
		[3988, 2],
		[3995, 2],
		[4016, 1],
		[4037, 15],
		[4044, 18],
		[4051, 6],
		[4065, 1],
		[4100, 24],
		[4107, 2],
		[4114, 8],
		[4121, 12],
		[4128, 4]
	]
}
