{
	"name": "@jonasbuerger/svelte-adapter-bun",
	"description": "Generate standalone Bun.js server for SvelteKit applications.",
	"repo_url": "https://github.com/JonasBuerger/svelte-adapter-bun",
	"authors": ["jonasbuerger"],
	"homepage": "https://github.com/JonasBuerger/svelte-adapter-bun#readme",
	"downloads": 47,
	"updated": "2024-07-15T12:37:49.773Z",
	"tags": ["adapter"],
	"github_stars": 4,
	"typescript": true,
	"version": "2.3.0",
	"kit_range": "^1.30.4",
	"last_rune_check_version": "2.3.0",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@jonasbuerger/svelte-adapter-bun",
				"version": "2.3.0",
				"size": 35593
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# @jonasbuerger/svelte-adapter-bun\n\n[![Release](https://github.com/JonasBuerger/svelte-adapter-bun/actions/workflows/release.yml/badge.svg)](https://github.com/JonasBuerger/svelte-adapter-bun/actions/workflows/release.yml)\n\n[Adapter](https://kit.svelte.dev/docs/adapters) for SvelteKit apps that generates a standalone [Bun](https://github.com/oven-sh/bun) server.\n\n## Usage\n\nInstall with `bun add -d @jonasbuerger/svelte-adapter-bun`, then add the adapter to your `svelte.config.js`:\n\n```js\n// svelte.config.js\nimport adapter from \"@jonasbuerger/svelte-adapter-bun\";\n\nexport default {\n  kit: {\n    adapter: adapter(),\n  },\n};\n```\n\nAfter building the server `vite build`, use `vite preview` to start the server.\n\nDuring development, you can use `vite dev`, for hot-reloading:\n\n## Options\n\nThe adapter can be configured with various options:\n\n```js\n// svelte.config.js\nimport adapter from \"@jonasbuerger/svelte-adapter-bun\";\nexport default {\n  kit: {\n    adapter: adapter({\n      //build options\n      out: \"build\",\n      // precompress: true,\n      precompress: {\n        brotli: true,\n        gzip: true,\n        files: [\"htm\", \"html\"],\n      },\n      transpileBun: false,\n      //server/adapter options\n      assets: true,\n      envPrefix: \"MY_CUSTOM_\",\n      development: true, //SERVERDEV\n      host: \"localhost\", //HOST\n      port: 3000, //PORT\n      tls: {\n        key: \"server.key\",\n        cert: \"server.crt\",\n      },\n      protocol_header: \"X-Forwarded-Proto\", //PROTOCOL_HEADER\n      host_header: \"X-Forwarded-Host\", //HOST_HEADER\n      address_header: \"X-Forwarded-For\", //ADDRESS_HEADER\n      xff_depth: 1, //XFF_DEPTH\n    }),\n  },\n};\n```\n\n### out\n\nDefault: `\"build\"`\n\nThe directory to build the server to — i.e. `bun run build/index.js` would start the server locally after it has been created.\n\n### precompress\n\nDefault: `false`\n\nType: `boolean | CompressOptions`\n\nEnables precompressing using gzip and brotli for assets and prerendered pages.\n\n#### precompress.brotli\n\nDefault: `false`\n\nEnable brotli precompressing.\n\n#### precompress.gzip\n\nDefault: `false`\n\nEnable gzip precompressing.\n\n#### precompress.files\n\nDefault: `['html','js','json','css','svg','xml','wasm']`\n\nFile extensions to compress.\n\n### transpileBun\n\nDefault: `true`\n\nRuns buns [transpiler](https://bun.sh/docs/api/transpiler#transformsync) during the server build\n\n### assets\n\nDefault: `true`\n\nServe static assets.\n\n- [x] Supports [HTTP range requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests)\n\n### envPrefix\n\nMay be used to deconflict/disambiguate adapter settings with environment variables you don't control:\n\n```js\n// svelte.config.js\nexport default {\n  kit: {\n    adapter: adapter({\n      envPrefix: \"MY_CUSTOM_\",\n    }),\n  },\n};\n```\n\n```dotenv\n#.env\nMY_CUSTOM_HOST=\"127.0.0.1\"\nMY_CUSTOM_PORT=4000\nMY_CUSTOM_ORIGIN=\"https://my.site\"\n```\n\n### development\n\nDefault: `false`\n\nEnvironment variable: `SERVERDEV`\n\nEnables bun's error page and additional logging.\n\n### host\n\nDefault: `0.0.0.0`\n\nEnvironment variable: `HOST`\n\nSets the hostname on which the server accepts connections.\n\n### port\n\nDefault: `3000`\n\nEnvironment variable: `PORT`\n\nSets the port on which the server accepts connections.\n\n### tls\n\nDefault: `[]`\n\nType: `TLSOptions | TLSOptions[]`\n\nSets the tls options for the bun server.\n\n### tls.cert\n\nDefault: `\"\"`\n\nType: `string | string[]`\n\nThe path to your certificate file relative to the project root.\n\n### tls.key\n\nDefault: `\"\"`\n\nType: `string | string[]`\n\nThe path to your key file relative to the project root.\n\n### forwarded\n\nDefault: `false`\n\nEnvironment variable: `FORWARDED`\n\nSet to true if your proxy uses the [Forwarded](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded) Header.\nIf this option is set, then `protocol_header`, `host_header` and `address_header` are ignored.\n\n### protocol_header\n\nDefault: `\"\"`\n\nEnvironment variable: `PROTOCOL_HEADER`\n\nHeader set by proxy, to determine the original protocol.\n\n### host_header\n\nDefault: `\"\"`\n\nEnvironment variable: `HOST_HEADER`\n\nHeader set by proxy, to determine the original hostname.\n\nFrom [SvelteKit Dokumentation](https://kit.svelte.dev/docs/adapter-node#environment-variables-origin-protocolheader-hostheader-and-port-header):\n\n> [`x-forwarded-proto`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto) and [`x-forwarded-host`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host) are de facto standard headers that forward the original protocol and host if you're using a reverse proxy (think load balancers and CDNs). You should only set these variables if your server is behind a trusted reverse proxy; otherwise, it'd be possible for clients to spoof these headers.\n\n### address_header\n\nDefault: `\"\"`\n\nEnvironment variable: `ADDRESS_HEADER`\n\nHeader for determining `event.clientAddress` behind proxies.\n\nThe [RequestEvent](https://kit.svelte.dev/docs/types#additional-types-requestevent) object passed to hooks and endpoints includes an `event.clientAddress` property representing the client's IP address.\n\n### xff_depth\n\nDefault: `1`\n\nThe count of trusted proxies before your server, used in conjunction with [address_header](#address_header) `X-Forwarded-For` or the `Forwarded` header.\n\n## :spider_web: WebSocket Server\n\nhttps://bun.sh/docs/api/websockets\n\n```js\n// hooks.server.js, hooks.server.ts\n\n/** @type {import(\"@jonasbuerger/svelte-adapter-bun\").WebSocketHandler} */\nexport const handleWebsocket = {\n  open(ws) {\n    console.log(\"WebSocket opened\");\n    ws.send(\"Hello from Server\");\n  },\n  /**\n   * @param {Request} request\n   * @param {import('bun').Server} server\n   */\n  upgrade(request, server) {\n    const url = new URL(request.url);\n    if (url.pathname.startsWith(\"/ws\")) {\n      return server.upgrade(request);\n    }\n  },\n};\n```\n\n## :desktop_computer: Environment variables\n\nSome server options can also be configured via environment variables.\nThey are documented with those settings and take precedence over the settings in `svelte.config.js`\n\nIf [envPrefix](#envPrefix) is set, only variables starting with the prefix are used.\nIf an unexpected environment variable is found, an Error will be thrown.\n\n> Bun [automatically reads configuration](https://bun.sh/docs/runtime/env) from `.env.local`, `.env.development`, `.env.production` and `.env`\n\n## License\n\n[MIT](LICENSE) © [Volodymyr Palamar](https://github.com/gornostay25)\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3834, 998],
		[3841, 156],
		[3848, 126],
		[3855, 10],
		[3862, 47],
		[3869, 162],
		[3876, 4],
		[3883, 4],
		[3890, 30],
		[3897, 1],
		[3904, 46],
		[3911, 10],
		[3918, 24],
		[3925, 4],
		[3932, 12],
		[3939, 6],
		[3946, 4],
		[3953, 5],
		[3960, 7],
		[3967, 5],
		[3974, 4],
		[3995, 9],
		[4002, 24],
		[4009, 11],
		[4016, 32],
		[4023, 18],
		[4030, 5],
		[4037, 13],
		[4044, 22],
		[4051, 16],
		[4058, 7],
		[4065, 13],
		[4072, 3],
		[4079, 1],
		[4086, 3],
		[4093, 22],
		[4100, 46],
		[4107, 134],
		[4114, 47],
		[4121, 16],
		[4128, 9]
	],
	"esm": true,
	"cjs": false
}
