{
	"name": "sveltekit-turnstile",
	"description": "Render forms, validate submissions with Cloudflare Turnstile.",
	"repo_url": "https://github.com/pevey/sveltekit-turnstile",
	"authors": ["pevey"],
	"homepage": "https://pevey.com/sveltekit-turnstile",
	"downloads": 324,
	"updated": "2025-04-03T19:46:21.364Z",
	"tags": ["auth"],
	"github_stars": 11,
	"typescript": true,
	"version": "2.0.2",
	"svelte_range": "^5.0.0",
	"kit_range": "^2.0.0",
	"last_rune_check_version": "2.0.2",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "sveltekit-turnstile",
				"version": "2.0.2",
				"size": 10301
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# sveltekit-turnstile\n\nThis package includes SvelteKit components for rendering forms and validating form submissions that include cloudflare turnstile tokens for enhanced security.\n\n## Set Up\n\nTwo environment variables must be set, either in .env or by some other method.  You can obtain these keys by creating an account at cloudflare.com.  Add your domain to cloudflare (for free), and then add a turnstile site (also free).  Make note of the public and private keys.\n\n.env\n\n```bash\nPUBLIC_TURNSTILE_SITE_KEY=\"\"\nSECRET_TURNSTILE_KEY=\"\"\n\n```\n\n## Usage\n\nAdd the `Turnstile` component inside an html form element to generate a hidden token form field when the form is rendered.  When the form is submitted, the token will be added to the submitted form data and can be processed the same way as any other posted form data.\n\nThis component is designed in a way that allows you to have multiple forms protected by Turnstile loaded at the same time.\n\nThe validateToken method should only be used on the server.  Storing your secret key as an environment variable without the PUBLIC_ prefix will prevent the key from being accidentally exported to the client.  An error will be thrown.  One logical place to include a server-side request to validate a token would be inside a form action.  Alternatively, you could create an api endpoint and submit the token to the endpoint for validation via a custom use:enhance function.\n\nclient-side (+page.svelte)\n\n```svelte\n<script>\n   import { Turnstile } from 'sveltekit-turnstile'\n   import { PUBLIC_TURNSTILE_SITE_KEY } from '$env/static/public'\n</script>\n\n<form action=\"/\" method=\"POST\" name=\"form1\" ... >\n   <Turnstile siteKey={PUBLIC_TURNSTILE_SITE_KEY}/>\n   <!-- other form elements -->\n</form>\n\n```\n\nserver-side (+page.server.js)\n\n```svelte\nimport { validateToken } from 'sveltekit-turnstile'\nimport { SECRET_TURNSTILE_KEY } from '$env/static/private'\n\nexport const actions = {\n\n   default: async ({request}) => {\n\n      const data = await request.formData()\n      const token = data.get('token')\n      console.log(token)\n\n      const success = await validateToken(token, SECRET_TURNSTILE_KEY)\n      console.log(success)\n\n      // if they pass the turnstile, we do other stuff with the form data here\n      // if they do not pass the turnstile, we return with a failure\n\n   }\n}\n\n```\n\nErrors from within the components will be caused by a missing site key.  Any errors are caught within a try/catch block and displayed in the console.  Be sure to check the browser console if you have difficulty.\n\n## Acknowledgment\n\nThis package initally borrowed from the first svelte component available for turnstile, which was written by @ghostdevv.\n",
	"legacy_svelte": true,
	"downloads_history": [
		[3596, 24],
		[3603, 43],
		[3610, 35],
		[3617, 36],
		[3624, 56],
		[3631, 54],
		[3638, 54],
		[3645, 26],
		[3652, 157],
		[3659, 100],
		[3666, 125],
		[3673, 96],
		[3680, 154],
		[3687, 111],
		[3694, 212],
		[3701, 122],
		[3708, 134],
		[3715, 170],
		[3722, 189],
		[3729, 211],
		[3736, 217],
		[3743, 173],
		[3750, 223],
		[3757, 238],
		[3764, 166],
		[3771, 100],
		[3778, 201],
		[3785, 162],
		[3792, 111],
		[3799, 177],
		[3806, 339],
		[3813, 398],
		[3820, 207],
		[3827, 278],
		[3834, 306],
		[3841, 301],
		[3848, 324],
		[3855, 281],
		[3862, 235],
		[3869, 106],
		[3876, 103],
		[3883, 85],
		[3890, 157],
		[3897, 208],
		[3904, 139],
		[3911, 188],
		[3918, 202],
		[3925, 182],
		[3932, 196],
		[3939, 124],
		[3946, 79],
		[3953, 190],
		[3960, 245],
		[3967, 175],
		[3974, 130],
		[3981, 159],
		[3988, 105],
		[3995, 168],
		[4002, 254],
		[4009, 113],
		[4016, 105],
		[4023, 254],
		[4030, 125],
		[4037, 287],
		[4044, 77],
		[4051, 169],
		[4058, 277],
		[4065, 344],
		[4072, 257],
		[4079, 327],
		[4086, 153],
		[4093, 118],
		[4100, 163],
		[4107, 244],
		[4114, 324],
		[4121, 172],
		[4128, 97],
		[4135, 120]
	],
	"esm": true,
	"cjs": false
}
