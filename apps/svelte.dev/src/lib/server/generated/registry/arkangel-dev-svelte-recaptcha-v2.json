{
	"name": "@arkangel-dev/svelte-recaptcha-v2",
	"description": "Integrate Google reCAPTCHA v2 in Svelte and SvelteKit.",
	"repo_url": "https://github.com/arkangel-dev/svelte-recaptcha-v2",
	"authors": ["arkangel-dev"],
	"homepage": "https://github.com/arkangel-dev/svelte-recaptcha-v2",
	"downloads": 4,
	"updated": "2024-02-17T16:18:26.739Z",
	"tags": ["auth"],
	"github_stars": 0,
	"typescript": false,
	"version": "0.0.5",
	"svelte_range": "^3.44.0",
	"last_rune_check_version": "0.0.5",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "@arkangel-dev/svelte-recaptcha-v2",
				"version": "0.0.5",
				"size": 32117
			},
			{
				"name": "debug",
				"version": "4.4.0",
				"size": 42798
			},
			{
				"name": "ms",
				"version": "2.1.3",
				"size": 6721
			}
		],
		"dependencies": [
			[0, 1],
			[1, 2]
		],
		"circular": []
	},
	"legacy_svelte": true,
	"readme": "![svelte-recaptcha-v2](https://user-images.githubusercontent.com/30809170/138197082-b92887d5-a875-41ee-9939-cbb8aba9ab6b.png)\r\n\r\n# svelte-recaptcha-v2\r\n\r\n[Google reCAPTCHA v2](https://developers.google.com/recaptcha/docs/display)  implementation for Svelte SPA, SSR and  sveltekit static sites.\r\n\r\n## Features\r\n\r\n - [x] svelte server side rendering (SSR) friendly.\r\n - [x] works with sveltekit SPA, SSR and static site adapters.\r\n - [x] easy integration with third party form validation libraries.\r\n - [x] fail-safe loader to inject recaptcha.\r\n - [x] invisible recaptcha or checkbox recaptcha support.\r\n - [x] event model for intercepting various recaptcha states.\r\n - [x] handle all your form logic in a single submit handler.\r\n - [x] proper DOM cleanup (deletes recaptcha completely)\r\n - [x] documented, debug.js friendly source code.\r\n - [x] typescript definitions are included for LSP.\r\n\r\n## Demonstration\r\n[svelte-recaptcha-v2 demo](https://basaran.github.io/svelte-recaptcha-v2/)\r\n\r\n## Getting Started\r\n```bash\r\n# install as a development dependency\r\npnpm install -D svelte-recaptcha-v2\r\n```\r\n\r\n## Basic Usage\r\n\r\nImport the library onto your template and update your google key:\r\n\r\n```js\r\nimport { Recaptcha, recaptcha, observer } from \"svelte-recaptcha-v2\";\r\n/*\r\n │Recaptcha: svelte <Recaptcha> component.\r\n │recaptcha: google method, gives you recaptcha.execute().\r\n │observer: allows you to track captcha state across components.\r\n */\r\n\r\nconst googleRecaptchaSiteKey=\"replace_with_yours\";\r\n```\r\n\r\nIn your form, add the component:\r\n\r\n```svelte\r\n<Recaptcha\r\n    sitekey={googleRecaptchaSiteKey}\r\n    badge={\"top\"}\r\n    size={\"invisible\"}\r\n    theme={\"light\"}\r\n    on:success={onCaptchaSuccess}\r\n    on:error={onCaptchaError}\r\n    on:expired={onCaptchaExpire}\r\n    on:close={onCaptchaClose}\r\n    on:ready={onCaptchaReady} />\r\n```\r\n\r\nSetup your event handlers:\r\n\r\n```js\r\nconst onCaptchaReady = (event) => {\r\n    console.log(\"recaptcha init has completed.\")\r\n    /*\r\n     │You can enable your form button here.\r\n     */\r\n};\r\n\r\nconst onCaptchaSuccess = (event) => {\r\n    userTracker.resolve(event);\r\n    console.log(\"token received: \" + event.detail.token);\r\n    /*\r\n     │If using checkbox method, you can attach your\r\n     │form logic here, or dispatch your custom event.\r\n     */\r\n};\r\n\r\nconst onCaptchaError = (event) => {\r\n    console.log(\"recaptcha init has failed.\");\r\n    /*\r\n     │Usually due to incorrect siteKey.\r\n     |Make sure you have the correct siteKey..\r\n     */\r\n};\r\n\r\nconst onCaptchaExpire = (event) => {\r\n    console.log(\"recaptcha api has expired\");\r\n    /*\r\n     │Normally, you wouldn't need to do anything.\r\n     │Recaptcha should reinit itself automatically.\r\n     */\r\n};\r\n\r\nconst onCaptchaOpen = (event) => {\r\n    console.log(\"google decided to challange the user\");\r\n    /*\r\n     │This fires when the puzzle frame pops.\r\n     */\r\n};\r\n\r\nconst onCaptchaClose = (event) => {\r\n    console.log(\"google decided to challange the user\");\r\n    /*\r\n     │This fires when the puzzle frame closes.\r\n     │Usually happens when the user clicks outside\r\n     |the modal frame.\r\n     */\r\n};\r\n```\r\n\r\nUpdate your form handler:\r\n\r\n```js\r\nconst submitHandler = async () => {\r\n    console.log(\"launching recaptcha\");\r\n    recaptcha.execute();\r\n\r\n    console.log(\"pending for google response\");\r\n    const event = await Promise.resolve(observer);\r\n\r\n    const recaptchaToken = event.detail?.token ? event.detail.token : false;\r\n\r\n    if (!recaptchaToken) {\r\n        console.log(\"recaptcha is NOT OK\");\r\n        return false;\r\n    }\r\n\r\n    console.log(\"token retrieved\", recaptchaToken);\r\n};\r\n```\r\n\r\n## Debugging\r\n\r\nIf you would like to enable client side debugging, add `{Recaptcha}` value to your localStorage `DEBUG` key.\r\n\r\n## Issues\r\n\r\nIf any trouble, please create an issue. PRs are most welcome.\r\n\r\n## Todo\r\n\r\n- [] add recipes for validation libraries (felte, stock etc)\r\n- [] look into mutation observers\r\n",
	"downloads_history": [
		[3694, 62],
		[3701, 13],
		[3708, 4],
		[3715, 2],
		[3722, 4],
		[3729, 3],
		[3743, 2],
		[3757, 1],
		[3764, 1],
		[3771, 2],
		[3778, 2],
		[3785, 1],
		[3799, 3],
		[3806, 2],
		[3820, 1],
		[3827, 1],
		[3834, 5],
		[3848, 1],
		[3862, 3],
		[3869, 2],
		[3876, 2],
		[3897, 2],
		[3904, 1],
		[3911, 1],
		[3918, 3],
		[3932, 2],
		[3946, 1],
		[3967, 1],
		[3974, 1],
		[3995, 3],
		[4002, 2],
		[4009, 1],
		[4016, 1],
		[4023, 1],
		[4037, 2],
		[4044, 6],
		[4051, 3],
		[4058, 1],
		[4072, 1],
		[4086, 4],
		[4093, 1],
		[4100, 3],
		[4114, 4],
		[4121, 7],
		[4128, 1]
	]
}
